(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Ll={};var yy;function rE(){if(yy)return Ll;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var _y;function lE(){return _y||(_y=1,Df.exports=rE()),Df.exports}var Z=lE(),Vf={exports:{}},yt={};var vy;function uE(){if(vy)return yt;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.iterator;function P(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function mt(I,Y,nt){this.props=I,this.context=Y,this.refs=$,this.updater=nt||J}mt.prototype.isReactComponent={},mt.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},mt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function vt(){}vt.prototype=mt.prototype;function ft(I,Y,nt){this.props=I,this.context=Y,this.refs=$,this.updater=nt||J}var qt=ft.prototype=new vt;qt.constructor=ft,tt(qt,mt.prototype),qt.isPureReactComponent=!0;var Xt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(I,Y,nt){var at=nt.ref;return{$$typeof:r,type:I,key:Y,ref:at!==void 0?at:null,props:nt}}function M(I,Y){return A(I.type,Y,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function O(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function bt(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):Y.toString(36)}function Ht(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ct,Ct):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Y,nt,at,gt){var At=typeof I;(At==="undefined"||At==="boolean")&&(I=null);var Ot=!1;if(I===null)Ot=!0;else switch(At){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(I.$$typeof){case r:case e:Ot=!0;break;case S:return Ot=I._init,H(Ot(I._payload),Y,nt,at,gt)}}if(Ot)return gt=gt(I),Ot=at===""?"."+bt(I,0):at,Xt(gt)?(nt="",Ot!=null&&(nt=Ot.replace(R,"$&/")+"/"),H(gt,Y,nt,"",function(ka){return ka})):gt!=null&&(V(gt)&&(gt=M(gt,nt+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Ot)),Y.push(gt)),1;Ot=0;var Ce=at===""?".":at+":";if(Xt(I))for(var ae=0;ae<I.length;ae++)at=I[ae],At=Ce+bt(at,ae),Ot+=H(at,Y,nt,At,gt);else if(ae=P(I),typeof ae=="function")for(I=ae.call(I),ae=0;!(at=I.next()).done;)at=at.value,At=Ce+bt(at,ae++),Ot+=H(at,Y,nt,At,gt);else if(At==="object"){if(typeof I.then=="function")return H(Ht(I),Y,nt,at,gt);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function et(I,Y,nt){if(I==null)return I;var at=[],gt=0;return H(I,at,"","",function(At){return Y.call(nt,At,gt++)}),at}function ut(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var Ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Gt={map:et,forEach:function(I,Y,nt){et(I,function(){Y.apply(this,arguments)},nt)},count:function(I){var Y=0;return et(I,function(){Y++}),Y},toArray:function(I){return et(I,function(Y){return Y})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return yt.Activity=C,yt.Children=Gt,yt.Component=mt,yt.Fragment=i,yt.Profiler=u,yt.PureComponent=ft,yt.StrictMode=s,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,yt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},yt.cache=function(I){return function(){return I.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(I,Y,nt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=tt({},I.props),gt=I.key;if(Y!=null)for(At in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(at[At]=Y[At]);var At=arguments.length-2;if(At===1)at.children=nt;else if(1<At){for(var Ot=Array(At),Ce=0;Ce<At;Ce++)Ot[Ce]=arguments[Ce+2];at.children=Ot}return A(I.type,gt,at)},yt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},yt.createElement=function(I,Y,nt){var at,gt={},At=null;if(Y!=null)for(at in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=Y[at]);var Ot=arguments.length-2;if(Ot===1)gt.children=nt;else if(1<Ot){for(var Ce=Array(Ot),ae=0;ae<Ot;ae++)Ce[ae]=arguments[ae+2];gt.children=Ce}if(I&&I.defaultProps)for(at in Ot=I.defaultProps,Ot)gt[at]===void 0&&(gt[at]=Ot[at]);return A(I,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(I){return{$$typeof:y,render:I}},yt.isValidElement=V,yt.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ut}},yt.memo=function(I,Y){return{$$typeof:_,type:I,compare:Y===void 0?null:Y}},yt.startTransition=function(I){var Y=D.T,nt={};D.T=nt;try{var at=I(),gt=D.S;gt!==null&&gt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,Ut)}catch(At){Ut(At)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),D.T=Y}},yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},yt.use=function(I){return D.H.use(I)},yt.useActionState=function(I,Y,nt){return D.H.useActionState(I,Y,nt)},yt.useCallback=function(I,Y){return D.H.useCallback(I,Y)},yt.useContext=function(I){return D.H.useContext(I)},yt.useDebugValue=function(){},yt.useDeferredValue=function(I,Y){return D.H.useDeferredValue(I,Y)},yt.useEffect=function(I,Y){return D.H.useEffect(I,Y)},yt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},yt.useId=function(){return D.H.useId()},yt.useImperativeHandle=function(I,Y,nt){return D.H.useImperativeHandle(I,Y,nt)},yt.useInsertionEffect=function(I,Y){return D.H.useInsertionEffect(I,Y)},yt.useLayoutEffect=function(I,Y){return D.H.useLayoutEffect(I,Y)},yt.useMemo=function(I,Y){return D.H.useMemo(I,Y)},yt.useOptimistic=function(I,Y){return D.H.useOptimistic(I,Y)},yt.useReducer=function(I,Y,nt){return D.H.useReducer(I,Y,nt)},yt.useRef=function(I){return D.H.useRef(I)},yt.useState=function(I){return D.H.useState(I)},yt.useSyncExternalStore=function(I,Y,nt){return D.H.useSyncExternalStore(I,Y,nt)},yt.useTransition=function(){return D.H.useTransition()},yt.version="19.2.3",yt}var Ey;function dd(){return Ey||(Ey=1,Vf.exports=uE()),Vf.exports}var Ye=dd(),Nf={exports:{}},jl={},If={exports:{}},Mf={};var Ty;function oE(){return Ty||(Ty=1,(function(r){function e(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Ut=ut-1>>>1,Gt=H[Ut];if(0<u(Gt,et))H[Ut]=et,H[ut]=Gt,ut=Ut;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Ut=0,Gt=H.length,I=Gt>>>1;Ut<I;){var Y=2*(Ut+1)-1,nt=H[Y],at=Y+1,gt=H[at];if(0>u(nt,ut))at<Gt&&0>u(gt,nt)?(H[Ut]=gt,H[at]=ut,Ut=at):(H[Ut]=nt,H[Y]=ut,Ut=Y);else if(at<Gt&&0>u(gt,ut))H[Ut]=gt,H[at]=ut,Ut=at;else break t}}return et}function u(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,C=null,x=3,P=!1,J=!1,tt=!1,$=!1,mt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=H)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Xt(H){if(tt=!1,qt(H),!J)if(i(v)!==null)J=!0,Ct||(Ct=!0,O());else{var et=i(_);et!==null&&Ht(Xt,et.startTime-H)}}var Ct=!1,D=-1,b=5,A=-1;function M(){return $?!0:!(r.unstable_now()-A<b)}function V(){if($=!1,Ct){var H=r.unstable_now();A=H;var et=!0;try{t:{J=!1,tt&&(tt=!1,vt(D),D=-1),P=!0;var ut=x;try{e:{for(qt(H),C=i(v);C!==null&&!(C.expirationTime>H&&M());){var Ut=C.callback;if(typeof Ut=="function"){C.callback=null,x=C.priorityLevel;var Gt=Ut(C.expirationTime<=H);if(H=r.unstable_now(),typeof Gt=="function"){C.callback=Gt,qt(H),et=!0;break e}C===i(v)&&s(v),qt(H)}else s(v);C=i(v)}if(C!==null)et=!0;else{var I=i(_);I!==null&&Ht(Xt,I.startTime-H),et=!1}}break t}finally{C=null,x=ut,P=!1}et=void 0}}finally{et?O():Ct=!1}}}var O;if(typeof ft=="function")O=function(){ft(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,bt=R.port2;R.port1.onmessage=V,O=function(){bt.postMessage(null)}}else O=function(){mt(V,0)};function Ht(H,et){D=mt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ut=x;x=et;try{return H()}finally{x=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=x;x=H;try{return et()}finally{x=ut}},r.unstable_scheduleCallback=function(H,et,ut){var Ut=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,H={id:S++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>Ut?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(tt?(vt(D),D=-1):tt=!0,Ht(Xt,ut-Ut))):(H.sortIndex=Gt,e(v,H),J||P||(J=!0,Ct||(Ct=!0,O()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var et=x;return function(){var ut=x;x=et;try{return H.apply(this,arguments)}finally{x=ut}}}})(Mf)),Mf}var Ay;function cE(){return Ay||(Ay=1,If.exports=oE()),If.exports}var Of={exports:{}},Qe={};var Sy;function hE(){if(Sy)return Qe;Sy=1;var r=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},Qe.flushSync=function(v){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=S,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,C=y(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:x,fetchPriority:P}):S==="script"&&s.d.X(v,{crossOrigin:C,integrity:x,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,C=y(S,_.crossOrigin);s.d.L(v,S,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var by;function fE(){if(by)return Of.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=hE(),Of.exports}var Ry;function dE(){if(Ry)return jl;Ry=1;var r=cE(),e=dd(),i=fE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var C=Object.assign,x=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case mt:return"Profiler";case $:return"StrictMode";case Xt:return"Suspense";case Ct:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ft:return t.displayName||"Context";case vt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:bt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return bt(t(n))}catch{}}return null}var Ht=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function I(t){return{current:t}}function Y(t){0>Gt||(t.current=Ut[Gt],Ut[Gt]=null,Gt--)}function nt(t,n){Gt++,Ut[Gt]=t.current,t.current=n}var at=I(null),gt=I(null),At=I(null),Ot=I(null);function Ce(t,n){switch(nt(At,n),nt(gt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=qp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(at),nt(at,t)}function ae(){Y(at),Y(gt),Y(At)}function ka(t){t.memoizedState!==null&&nt(Ot,t);var n=at.current,a=qp(n,t.type);n!==a&&(nt(gt,t),nt(at,a))}function ws(t){gt.current===t&&(Y(at),Y(gt)),Ot.current===t&&(Y(Ot),Ol._currentValue=ut)}var Cs,Ds;function Xn(t){if(Cs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cs=n&&n[1]||"",Ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+t+Ds}var Or=!1;function qa(t,n){if(!t||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),j=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===j.length)for(l=w.length-1,c=j.length-1;1<=l&&0<=c&&w[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==j[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Xn("Activity");default:return""}}function zr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Fi=r.unstable_cancelCallback,Vc=r.unstable_shouldYield,ou=r.unstable_requestPaint,Ze=r.unstable_now,Pa=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,Yi=r.unstable_NormalPriority,Nc=r.unstable_LowPriority,cu=r.unstable_IdlePriority,hu=r.log,fu=r.unstable_setDisableYieldValue,Un=null,Ue=null;function En(t){if(typeof hu=="function"&&fu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Un,t)}catch{}}var ce=Math.clz32?Math.clz32:mu,du=Math.log,Vs=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/Vs|0)|0}var Kn=256,Ha=262144,pe=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):a||(a=E&~t,a!==0&&(c=Zn(a))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):a||(a=l&~t,a!==0&&(c=Zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ic(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ce(a),F=1<<G;E[G]=0,w[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&Qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Br(t,n){var a=n&-n;return a=(a&42)!==0?1:Fa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function jn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Bn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Bn,Me="__reactProps$"+Bn,Wn="__reactContainer$"+Bn,Ns="__reactEvents$"+Bn,Oc="__reactListeners$"+Bn,yu="__reactHandles$"+Bn,_u="__reactResources$"+Bn,ti="__reactMarker$"+Bn;function Is(t){delete t[ye],delete t[Me],delete t[Ns],delete t[Oc],delete t[yu]}function ei(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Xp(t);t!==null;){if(a=t[ye])return a;t=Xp(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[ye]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ni(t){var n=t[_u];return n||(n=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ti]=!0}var kr=new Set,qr={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(qr[t]=n,t=0;t<n.length;t++)kr.add(n[t])}var Pr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gr={};function vu(t){return ge.call(Gr,t)?!0:ge.call(Hr,t)?!1:Pr.test(t)?Gr[t]=!0:(Hr[t]=!0,!1)}function Ms(t,n,a){if(vu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Xi(t)?"checked":"value";t._valueTracker=Qr(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Xi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xa=/[\n"\\]/g;function We(t){return t.replace(Xa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Os(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fr(t,g,Oe(n)):a!=null?Fr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Eu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function Fr(t,n,a){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ki(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Tu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Zi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Yr(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var Kr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,ri=null;function Ka(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Os(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Os(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":Tu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ki(t,!!a.multiple,n,!1)}}}var Us=!1;function Wi(t,n,a){if(Us)return t(n,a);Us=!0;try{var l=t(n);return l}finally{if(Us=!1,($i!==null||ri!==null)&&(yo(),$i&&(n=$i,t=ri,ri=$i=null,Ka(n),t)))for(n=0;n<t.length;n++)Ka(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Za=!1}var li=null,Zr=null,Ja=null;function Jr(){if(Ja)return Ja;var t,n=Zr,a=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Pn(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:Pn,this.isPropagationStopped=Pn,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Le(Ri),ta=C({},Ri,{view:0,detail:0}),$r=Le(ta),ea,Ls,oi,js=C({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ea=t.screenX-oi.screenX,Ls=t.screenY-oi.screenY):Ls=ea=0,oi=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:Ls}}),Wr=Le(js),Wa=C({},js,{dataTransfer:0}),bu=Le(Wa),Ru=C({},ta,{relatedTarget:0}),ts=Le(Ru),tl=C({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Le(tl),Bs=C({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Le(Bs),Du=C({},Ri,{data:0}),ci=Le(Du),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function na(){return Mu}var Je=C({},ta,{key:function(t){if(t.key){var n=Vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Le(Je),xu=C({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Le(xu),o=C({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),m=Le(o),p=C({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=C({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=Le(U),W=C({},Ri,{newState:0,oldState:0}),Et=Le(W),he=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,hi=Sn&&(!Bt||se&&8<se&&11>=se),Hn=" ",Gn=!1;function es(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ks(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function Nv(t,n){switch(t){case"compositionend":return ks(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return t=n.data,t===Hn&&Gn?null:t;default:return null}}function Iv(t,n){if(qs)return t==="compositionend"||!Bt&&es(t,n)?(t=Jr(),Ja=Zr=li=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Mv[t.type]:n==="textarea"}function $d(t,n,a,l){$i?ri?ri.push(l):ri=[l]:$i=l,n=bo(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function Ov(t){xp(t,0)}function zu(t){var n=cn(t);if(Ya(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(Sn){var xc;if(Sn){var zc="oninput"in document;if(!zc){var em=document.createElement("div");em.setAttribute("oninput","return;"),zc=typeof em.oninput=="function"}xc=zc}else xc=!1;tm=xc&&(!document.documentMode||9<document.documentMode)}function nm(){el&&(el.detachEvent("onpropertychange",im),nl=el=null)}function im(t){if(t.propertyName==="value"&&zu(nl)){var n=[];$d(n,nl,t,An(t)),Wi(Ov,n)}}function xv(t,n,a){t==="focusin"?(nm(),el=n,nl=a,el.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(nl)}function Uv(t,n){if(t==="click")return zu(n)}function Lv(t,n){if(t==="input"||t==="change")return zu(n)}function jv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:jv;function il(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,n){var a=am(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=am(a)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=si(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Bv=Sn&&"documentMode"in document&&11>=document.documentMode,Ps=null,Lc=null,al=null,jc=!1;function um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jc||Ps==null||Ps!==si(l)||(l=Ps,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=bo(Lc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ps)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Hs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Bc={},om={};Sn&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function is(t){if(Bc[t])return Bc[t];if(!Hs[t])return t;var n=Hs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in om)return Bc[t]=n[a];return t}var cm=is("animationend"),hm=is("animationiteration"),fm=is("animationstart"),kv=is("transitionrun"),qv=is("transitionstart"),Pv=is("transitioncancel"),dm=is("transitionend"),mm=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Qn(t,n){mm.set(t,n),ii(n,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Gs=0,qc=0;function Lu(){for(var t=Gs,n=qc=Gs=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&gm(a,c,f)}}function ju(t,n,a,l){Rn[Gs++]=t,Rn[Gs++]=n,Rn[Gs++]=a,Rn[Gs++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,a,l){return ju(t,n,a,l),Bu(t)}function as(t,n){return ju(t,null,null,n),Bu(t)}function gm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bu(t){if(50<wl)throw wl=0,Jh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qs={};function Hv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new Hv(t,n,a,l)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Hc(t)&&(g=1);else if(typeof t=="string")g=X1(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case A:return t=dn(31,a,n,c),t.elementType=A,t.lanes=f,t;case tt:return ss(a.children,c,f,n);case $:g=8,c|=24;break;case mt:return t=dn(12,a,n,c|2),t.elementType=mt,t.lanes=f,t;case Xt:return t=dn(13,a,n,c),t.elementType=Xt,t.lanes=f,t;case Ct:return t=dn(19,a,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:g=10;break t;case vt:g=9;break t;case qt:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Gc(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function ym(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Qc(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var _m=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=_m.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zr(n)},_m.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var Fs=[],Ys=0,qu=null,sl=0,Cn=[],Dn=0,ia=null,fi=1,di="";function Di(t,n){Fs[Ys++]=sl,Fs[Ys++]=qu,qu=t,sl=n}function vm(t,n,a){Cn[Dn++]=fi,Cn[Dn++]=di,Cn[Dn++]=ia,ia=t;var l=fi;t=di;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-ce(n)+c|a<<c|l,di=f+t}else fi=1<<f|a<<c|l,di=t}function Fc(t){t.return!==null&&(Di(t,1),vm(t,1,0))}function Yc(t){for(;t===qu;)qu=Fs[--Ys],Fs[Ys]=null,sl=Fs[--Ys],Fs[Ys]=null;for(;t===ia;)ia=Cn[--Dn],Cn[Dn]=null,di=Cn[--Dn],Cn[Dn]=null,fi=Cn[--Dn],Cn[Dn]=null}function Em(t,n){Cn[Dn++]=fi,Cn[Dn++]=di,Cn[Dn++]=ia,fi=n.id,di=n.overflow,ia=t}var je=null,te=null,Mt=!1,aa=null,Vn=!1,Xc=Error(s(519));function sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(wn(n,t)),Xc}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Me]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)wt(Dl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Zi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||sa(t,!0)}function Am(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:je=je.return}}function Xs(t){if(t!==je)return!1;if(!Mt)return Am(t),Mt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&te&&sa(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=Yp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=Yp(t)}else n===27?(n=te,va(t.type)?(t=_f,_f=null,te=t):te=n):te=je?In(t.stateNode.nextSibling):null;return!0}function rs(){te=je=null,Mt=!1}function Kc(){var t=aa;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),aa=null),t}function rl(t){aa===null?aa=[t]:aa.push(t)}var Zc=I(null),ls=null,Vi=null;function ra(t,n,a){nt(Zc,n._currentValue),n._currentValue=a}function Ni(t){t._currentValue=Zc.current,Y(Zc)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $c(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Jc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ks(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&$c(n,t,a,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){ls=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Sm(ls,t)}function Hu(t,n){return ls===null&&us(t),Sm(t,n)}function Sm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var Gv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Qv=r.unstable_scheduleCallback,Fv=r.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new Gv,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&Qv(Fv,function(){t.controller.abort()})}var ul=null,th=0,Zs=0,Js=null;function Yv(t,n){if(ul===null){var a=ul=[];th=0,Zs=af(),Js={status:"pending",value:void 0,then:function(l){a.push(l)}}}return th++,n.then(bm,bm),n}function bm(){if(--th===0&&ul!==null){Js!==null&&(Js.status="fulfilled");var t=ul;ul=null,Zs=0,Js=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Xv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Rm=H.S;H.S=function(t,n){up=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yv(t,n),Rm!==null&&Rm(t,n)};var os=I(null);function eh(){var t=os.current;return t!==null?t:Wt.pooledCache}function Gu(t,n){n===null?nt(os,os.current):nt(os,n.pool)}function wm(){var t=eh();return t===null?null:{parent:Ee._currentValue,pool:t}}var $s=Error(s(460)),nh=Error(s(474)),Qu=Error(s(542)),Fu={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(kn,kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(kn,kn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw hs=n,$s}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,$s):a}}var hs=null;function Vm(){if(hs===null)throw Error(s(459));var t=hs;return hs=null,t}function Nm(t){if(t===$s||t===Qu)throw Error(s(483))}var Ws=null,ol=0;function Yu(t){var n=ol;return ol+=1,Ws===null&&(Ws=[]),Dm(Ws,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Im(t){function n(z,N){if(t){var L=z.deletions;L===null?(z.deletions=[N],z.flags|=16):L.push(N)}}function a(z,N){if(!t)return null;for(;N!==null;)n(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function c(z,N){return z=Ci(z,N),z.index=0,z.sibling=null,z}function f(z,N,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<N?(z.flags|=67108866,N):L):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,N,L,Q){return N===null||N.tag!==6?(N=Gc(L,z.mode,Q),N.return=z,N):(N=c(N,L),N.return=z,N)}function w(z,N,L,Q){var ot=L.type;return ot===tt?G(z,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&cs(ot)===N.type)?(N=c(N,L.props),cl(N,L),N.return=z,N):(N=ku(L.type,L.key,L.props,null,z.mode,Q),cl(N,L),N.return=z,N)}function j(z,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Qc(L,z.mode,Q),N.return=z,N):(N=c(N,L.children||[]),N.return=z,N)}function G(z,N,L,Q,ot){return N===null||N.tag!==7?(N=ss(L,z.mode,Q,ot),N.return=z,N):(N=c(N,L),N.return=z,N)}function F(z,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Gc(""+N,z.mode,L),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return L=ku(N.type,N.key,N.props,null,z.mode,L),cl(L,N),L.return=z,L;case J:return N=Qc(N,z.mode,L),N.return=z,N;case b:return N=cs(N),F(z,N,L)}if(Ht(N)||O(N))return N=ss(N,z.mode,L,null),N.return=z,N;if(typeof N.then=="function")return F(z,Yu(N),L);if(N.$$typeof===ft)return F(z,Hu(z,N),L);Xu(z,N)}return null}function B(z,N,L,Q){var ot=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(z,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===ot?w(z,N,L,Q):null;case J:return L.key===ot?j(z,N,L,Q):null;case b:return L=cs(L),B(z,N,L,Q)}if(Ht(L)||O(L))return ot!==null?null:G(z,N,L,Q,null);if(typeof L.then=="function")return B(z,N,Yu(L),Q);if(L.$$typeof===ft)return B(z,N,Hu(z,L),Q);Xu(z,L)}return null}function q(z,N,L,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,E(N,z,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return z=z.get(Q.key===null?L:Q.key)||null,w(N,z,Q,ot);case J:return z=z.get(Q.key===null?L:Q.key)||null,j(N,z,Q,ot);case b:return Q=cs(Q),q(z,N,L,Q,ot)}if(Ht(Q)||O(Q))return z=z.get(L)||null,G(N,z,Q,ot,null);if(typeof Q.then=="function")return q(z,N,L,Yu(Q),ot);if(Q.$$typeof===ft)return q(z,N,L,Hu(N,Q),ot);Xu(N,Q)}return null}function st(z,N,L,Q){for(var ot=null,Lt=null,rt=N,St=N=0,Vt=null;rt!==null&&St<L.length;St++){rt.index>St?(Vt=rt,rt=null):Vt=rt.sibling;var jt=B(z,rt,L[St],Q);if(jt===null){rt===null&&(rt=Vt);break}t&&rt&&jt.alternate===null&&n(z,rt),N=f(jt,N,St),Lt===null?ot=jt:Lt.sibling=jt,Lt=jt,rt=Vt}if(St===L.length)return a(z,rt),Mt&&Di(z,St),ot;if(rt===null){for(;St<L.length;St++)rt=F(z,L[St],Q),rt!==null&&(N=f(rt,N,St),Lt===null?ot=rt:Lt.sibling=rt,Lt=rt);return Mt&&Di(z,St),ot}for(rt=l(rt);St<L.length;St++)Vt=q(rt,z,St,L[St],Q),Vt!==null&&(t&&Vt.alternate!==null&&rt.delete(Vt.key===null?St:Vt.key),N=f(Vt,N,St),Lt===null?ot=Vt:Lt.sibling=Vt,Lt=Vt);return t&&rt.forEach(function(ba){return n(z,ba)}),Mt&&Di(z,St),ot}function ht(z,N,L,Q){if(L==null)throw Error(s(151));for(var ot=null,Lt=null,rt=N,St=N=0,Vt=null,jt=L.next();rt!==null&&!jt.done;St++,jt=L.next()){rt.index>St?(Vt=rt,rt=null):Vt=rt.sibling;var ba=B(z,rt,jt.value,Q);if(ba===null){rt===null&&(rt=Vt);break}t&&rt&&ba.alternate===null&&n(z,rt),N=f(ba,N,St),Lt===null?ot=ba:Lt.sibling=ba,Lt=ba,rt=Vt}if(jt.done)return a(z,rt),Mt&&Di(z,St),ot;if(rt===null){for(;!jt.done;St++,jt=L.next())jt=F(z,jt.value,Q),jt!==null&&(N=f(jt,N,St),Lt===null?ot=jt:Lt.sibling=jt,Lt=jt);return Mt&&Di(z,St),ot}for(rt=l(rt);!jt.done;St++,jt=L.next())jt=q(rt,z,St,jt.value,Q),jt!==null&&(t&&jt.alternate!==null&&rt.delete(jt.key===null?St:jt.key),N=f(jt,N,St),Lt===null?ot=jt:Lt.sibling=jt,Lt=jt);return t&&rt.forEach(function(sE){return n(z,sE)}),Mt&&Di(z,St),ot}function $t(z,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var ot=L.key;N!==null;){if(N.key===ot){if(ot=L.type,ot===tt){if(N.tag===7){a(z,N.sibling),Q=c(N,L.props.children),Q.return=z,z=Q;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&cs(ot)===N.type){a(z,N.sibling),Q=c(N,L.props),cl(Q,L),Q.return=z,z=Q;break t}a(z,N);break}else n(z,N);N=N.sibling}L.type===tt?(Q=ss(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=ku(L.type,L.key,L.props,null,z.mode,Q),cl(Q,L),Q.return=z,z=Q)}return g(z);case J:t:{for(ot=L.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(z,N.sibling),Q=c(N,L.children||[]),Q.return=z,z=Q;break t}else{a(z,N);break}else n(z,N);N=N.sibling}Q=Qc(L,z.mode,Q),Q.return=z,z=Q}return g(z);case b:return L=cs(L),$t(z,N,L,Q)}if(Ht(L))return st(z,N,L,Q);if(O(L)){if(ot=O(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),ht(z,N,L,Q)}if(typeof L.then=="function")return $t(z,N,Yu(L),Q);if(L.$$typeof===ft)return $t(z,N,Hu(z,L),Q);Xu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(z,N.sibling),Q=c(N,L),Q.return=z,z=Q):(a(z,N),Q=Gc(L,z.mode,Q),Q.return=z,z=Q),g(z)):a(z,N)}return function(z,N,L,Q){try{ol=0;var ot=$t(z,N,L,Q);return Ws=null,ot}catch(rt){if(rt===$s||rt===Qu)throw rt;var Lt=dn(29,rt,null,z.mode);return Lt.lanes=Q,Lt.return=z,Lt}}}var fs=Im(!0),Mm=Im(!1),la=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bu(t),gm(t,null,a),n}return ju(t,l,n,a),Bu(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rh=!1;function fl(){if(rh){var t=Js;if(t!==null)throw t}}function dl(t,n,a,l){rh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,j=w.next;w.next=null,g===null?f=j:g.next=j,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;g=0,G=j=w=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Dt&B)===B:(l&B)===B){B!==0&&B===Zs&&(rh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ht=E;B=n;var $t=a;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){F=st.call($t,F,B);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,B=typeof st=="function"?st.call($t,F,B):st,B==null)break t;F=C({},F,B);break t;case 2:la=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,w=F):G=G.next=q,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(w=F),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ma|=g,t.lanes=g,t.memoizedState=F}}function Om(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Om(a[t],n)}var tr=I(null),Ku=I(0);function zm(t,n){t=Bi,nt(Ku,t),nt(tr,n),Bi=t|n.baseLanes}function lh(){nt(Ku,Bi),nt(tr,tr.current)}function uh(){Bi=Ku.current,Y(tr),Y(Ku)}var mn=I(null),Nn=null;function ca(t){var n=t.alternate;nt(fe,fe.current&1),nt(mn,t),Nn===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(Nn=t)}function oh(t){nt(fe,fe.current),nt(mn,t),Nn===null&&(Nn=t)}function Um(t){t.tag===22?(nt(fe,fe.current),nt(mn,t),Nn===null&&(Nn=t)):ha()}function ha(){nt(fe,fe.current),nt(mn,mn.current)}function gn(t){Y(mn),Nn===t&&(Nn=null),Y(fe)}var fe=I(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,Tt=null,Zt=null,Te=null,Ju=!1,er=!1,ds=!1,$u=0,ml=0,nr=null,Kv=0;function ue(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return Ii=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?vg:wh,ds=!1,f=a(l,c),ds=!1,er&&(f=jm(n,a,l,c)),Lm(t),f}function Lm(t){H.H=yl;var n=Zt!==null&&Zt.next!==null;if(Ii=0,Te=Zt=Tt=null,Ju=!1,ml=0,nr=null,n)throw Error(s(300));t===null||Ae||(t=t.dependencies,t!==null&&Pu(t)&&(Ae=!0))}function jm(t,n,a,l){Tt=t;var c=0;do{if(er&&(nr=null),ml=0,er=!1,25<=c)throw Error(s(301));if(c+=1,Te=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Eg,f=n(a,l)}while(er);return f}function Zv(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function fh(){var t=$u!==0;return $u=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ju=!1}Ii=0,Te=Zt=Tt=null,er=!1,ml=$u=0,nr=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Zt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Zt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?Tt.memoizedState=Te=t:Te=Te.next=t}return Te}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,nr===null&&(nr=[]),t=Dm(nr,t,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?vg:wh),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ft)return Be(t)}throw Error(s(438,String(t)))}function gh(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wu(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Mi(t,n){return typeof n=="function"?n(t):n}function eo(t){var n=de();return ph(n,Zt,t)}function ph(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,j=n,G=!1;do{var F=j.lane&-536870913;if(F!==j.lane?(Dt&F)===F:(Ii&F)===F){var B=j.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),F===Zs&&(G=!0);else if((Ii&B)===B){j=j.next,B===Zs&&(G=!0);continue}else F={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,Tt.lanes|=B,ma|=B;F=j.action,ds&&a(f,F),f=j.hasEagerState?j.eagerState:a(f,F)}else B={lane:F,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=B,g=f):w=w.next=B,Tt.lanes|=F,ma|=F;j=j.next}while(j!==null&&j!==n);if(w===null?g=f:w.next=E,!fn(f,t.memoizedState)&&(Ae=!0,G&&(a=Js,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Bm(t,n,a){var l=Tt,c=de(),f=Mt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!fn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,Ae=!0),c=c.queue,Eh(Pm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,ir(9,{destroy:void 0},qm.bind(null,l,c,a,n),null),Wt===null)throw Error(s(349));f||(Ii&127)!==0||km(l,n,a)}return a}function km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Wu(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function qm(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&Gm(t)}function Pm(t,n,a){return a(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function Gm(t){var n=as(t,2);n!==null&&rn(n,t,2)}function _h(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ds){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function Qm(t,n,a,l){return t.baseState=a,ph(t,Zt,typeof l=="function"?l:Mi)}function Jv(t,n,a,l,c){if(ao(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Fm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Fm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),w=H.S;w!==null&&w(g,E),Ym(t,n,E)}catch(j){vh(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),Ym(t,n,f)}catch(j){vh(t,n,j)}}function Ym(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xm(t,n,l)},function(l){return vh(t,n,l)}):Xm(t,n,a)}function Xm(t,n,a){n.status="fulfilled",n.value=a,Km(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Fm(t,a)))}function vh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zm(t,n){return n}function Jm(t,n){if(Mt){var a=Wt.formState;if(a!==null){t:{var l=Tt;if(Mt){if(te){e:{for(var c=te,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=In(c.nextSibling),l=c.data==="F!";break t}}sa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:n},a.queue=l,a=pg.bind(null,Tt,l),l.dispatch=a,l=_h(!1),f=Rh.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Jv.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=de();return Wm(n,Zt,t)}function Wm(t,n,a){if(n=ph(t,n,Zm)[0],t=eo(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(g){throw g===$s?Qu:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,ir(9,{destroy:void 0},$v.bind(null,c,a),null)),[l,f,t]}function $v(t,n){t.action=n}function tg(t){var n=de(),a=Zt;if(a!==null)return Wm(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ir(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Wu(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function eg(){return de().memoizedState}function no(t,n,a,l){var c=$e();Tt.flags|=t,c.memoizedState=ir(1|n,{destroy:void 0},a,l===void 0?null:l)}function io(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&ch(l,Zt.memoizedState.deps)?c.memoizedState=ir(n,f,a,l):(Tt.flags|=t,c.memoizedState=ir(1|n,f,a,l))}function ng(t,n){no(8390656,8,t,n)}function Eh(t,n){io(2048,8,t,n)}function Wv(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Wu(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ig(t){var n=de().memoizedState;return Wv({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ag(t,n){return io(4,2,t,n)}function sg(t,n){return io(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,a){a=a!=null?a.concat([t]):null,io(4,4,rg.bind(null,n,t),a)}function Th(){}function ug(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),ds){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Ah(t,n,a){return a===void 0||(Ii&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=cp(),Tt.lanes|=t,ma|=t,a)}function cg(t,n,a,l){return fn(a,n)?a:tr.current!==null?(t=Ah(t,a,l),fn(t,n)||(Ae=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,t.memoizedState=a):(t=cp(),Tt.lanes|=t,ma|=t,n)}function hg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Rh(t,!1,n,a);try{var w=c(),j=H.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=Xv(w,l);pl(t,n,G,_n(t))}else pl(t,n,l,_n(t))}catch(F){pl(t,n,{then:function(){},status:"rejected",reason:F},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function t1(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=fg(t).queue;hg(t,c,n,ut,a===null?t1:function(){return dg(t),a(l)})}function fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=fg(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},_n())}function bh(){return Be(Ol)}function mg(){return de().memoizedState}function gg(){return de().memoizedState}function e1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ua(a);var l=oa(n,t,a);l!==null&&(rn(l,n,a),hl(l,n,a)),n={cache:Wc()},t.payload=n;return}n=n.return}}function n1(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(t)?yg(n,a):(a=Pc(t,n,a,l),a!==null&&(rn(a,t,l),_g(a,n,l)))}function pg(t,n,a){var l=_n();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ao(t))yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return ju(t,n,c,0),Wt===null&&Lu(),!1}catch{}if(a=Pc(t,n,c,l),a!==null)return rn(a,t,l),_g(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(t)){if(n)throw Error(s(479))}else n=Pc(t,a,l,2),n!==null&&rn(n,t,2)}function ao(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function yg(t,n){er=Ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}var yl={readContext:Be,use:to,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};yl.useEffectEvent=ue;var vg={readContext:Be,use:to,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,no(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ds){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ds){En(!0);try{a(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=n1.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,a=pg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=$e();return Ah(a,t,n)},useTransition:function(){var t=_h(!1);return t=hg.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(Mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Dt&127)!==0||km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,ng(Pm.bind(null,l,f,t),[t]),l.flags|=2048,ir(9,{destroy:void 0},qm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Wt.identifierPrefix;if(Mt){var a=di,l=fi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Kv++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return $e().memoizedState=e1.bind(null,Tt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:Be,use:to,useCallback:ug,useContext:Be,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:eo,useRef:eg,useState:function(){return eo(Mi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=de();return cg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=eo(Mi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:bh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=de();return Qm(a,Zt,t,n)},useMemoCache:gh,useCacheRefresh:gg};wh.useEffectEvent=ig;var Eg={readContext:Be,use:to,useCallback:ug,useContext:Be,useEffect:Eh,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:yh,useRef:eg,useState:function(){return yh(Mi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=de();return Zt===null?Ah(a,t,n):cg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=yh(Mi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:bh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=de();return Zt!==null?Qm(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gh,useCacheRefresh:gg};Eg.useEffectEvent=ig;function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:C({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(rn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(rn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=oa(t,l,a),n!==null&&(rn(n,t,a),hl(n,t,a))}};function Tg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function Ag(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=C({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Sg(t){Uu(t)}function bg(t){console.error(t)}function Rg(t){Uu(t)}function so(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){so(t,n)},a}function Cg(t){return t=ua(t),t.tag=3,t}function Dg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){wg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){wg(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function i1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ks(n,a,c,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?_o():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),_o(),!1}if(Mt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Xc&&(t=Error(s(422),{cause:l}),rl(wn(t,a)))):(l!==Xc&&(n=Error(s(423),{cause:l}),rl(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=Vh(t.stateNode,l,c),sh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),Rl===null?Rl=[f]:Rl.push(f),oe!==4&&(oe=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Cg(c),Dg(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var Nh=Error(s(461)),Ae=!1;function ke(t,n,a,l){n.child=t===null?Mm(n,null,a,l):fs(n,t.child,a,l)}function Vg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return us(n),l=hh(t,n,a,g,f,c),E=fh(),t!==null&&!Ae?(dh(t,n,c),Oi(t,n,c)):(Mt&&E&&Fc(n),n.flags|=1,ke(t,n,l,c),n.child)}function Ng(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Hc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ig(t,n,f,l,c)):(t=ku(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!jh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,jh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Ih(t,n,a,l,c)}function Mg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Og(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?zm(n,f):lh(),Um(n);else return l=n.lanes=536870912,Og(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Gu(n,f.cachePool),zm(n,f),ha(),n.memoizedState=null):(t!==null&&Gu(n,null),lh(),ha());return ke(t,n,c,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Og(t,n,a,l,c){var f=eh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(n,null),lh(),Um(n),t!==null&&Ks(t,n,l,!0),n.childLanes=c,null}function ro(t,n){return n=uo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xg(t,n,a){return fs(n,t.child,null,a),t=ro(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function a1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Mt){if(l.mode==="hidden")return t=ro(n,l),n.lanes=536870912,_l(null,t);if(oh(n),(t=te)?(t=Fp(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw sa(n);return n.lanes=536870912,null}return ro(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(oh(n),c)if(n.flags&256)n.flags&=-257,n=xg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||Ks(t,n,a,!1),c=(a&t.childLanes)!==0,Ae||c){if(l=Wt,l!==null&&(g=Br(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,as(t,g),rn(l,t,g),Nh;_o(),n=xg(t,n,a)}else t=f.treeContext,te=In(g.nextSibling),je=n,Mt=!0,aa=null,Vn=!1,t!==null&&Em(n,t),n=ro(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ih(t,n,a,l,c){return us(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!Ae?(dh(t,n,c),Oi(t,n,c)):(Mt&&l&&Fc(n),n.flags|=1,ke(t,n,a,c),n.child)}function zg(t,n,a,l,c,f){return us(n),n.updateQueue=null,a=jm(n,l,a,c),Lm(t),l=fh(),t!==null&&!Ae?(dh(t,n,f),Oi(t,n,f)):(Mt&&l&&Fc(n),n.flags|=1,ke(t,n,a,f),n.child)}function Ug(t,n,a,l,c){if(us(n),n.stateNode===null){var f=Qs,g=a.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Qs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ch(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Dh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ms(a,E);f.props=w;var j=f.context,G=a.contextType;g=Qs,typeof G=="object"&&G!==null&&(g=Be(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Ag(n,f,l,g),la=!1;var B=n.memoizedState;f.state=B,dl(n,l,f,c),fl(),j=n.memoizedState,E||B!==j||la?(typeof F=="function"&&(Ch(n,a,F,l),j=n.memoizedState),(w=la||Tg(n,a,w,l,B,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),g=n.memoizedProps,G=ms(a,g),f.props=G,F=n.pendingProps,B=f.context,j=a.contextType,w=Qs,typeof j=="object"&&j!==null&&(w=Be(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||B!==w)&&Ag(n,f,l,w),la=!1,B=n.memoizedState,f.state=B,dl(n,l,f,c),fl();var q=n.memoizedState;g!==F||B!==q||la||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),q=n.memoizedState),(G=la||Tg(n,a,G,l,B,q,w)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,c),n.child=fs(n,null,a,c)):ke(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Lg(t,n,a,l){return rs(),n.flags|=256,ke(t,n,a,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:wm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Mt){if(c?ca(n):ha(),(t=te)?(t=Fp(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw sa(n);return yf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ha(),c=n.mode,E=uo({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Oh(a),l.childLanes=xh(t,g,a),n.memoizedState=Mh,_l(null,l)):(ca(n),zh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ca(n),n.flags&=-257,n=Uh(t,n,a)):n.memoizedState!==null?(ha(),n.child=t.child,n.flags|=128,n=null):(ha(),E=l.fallback,c=n.mode,l=uo({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Oh(a),l.childLanes=xh(t,g,a),n.memoizedState=Mh,n=_l(null,l));else if(ca(n),yf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(s(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Uh(t,n,a)}else if(Ae||Ks(t,n,a,!1),g=(a&t.childLanes)!==0,Ae||g){if(g=Wt,g!==null&&(l=Br(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,as(t,l),rn(g,t,l),Nh;pf(E)||_o(),n=Uh(t,n,a)}else pf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,te=In(E.nextSibling),je=n,Mt=!0,aa=null,Vn=!1,t!==null&&Em(n,t),n=zh(n,l.children),n.flags|=4096);return n}return c?(ha(),E=l.fallback,c=n.mode,w=t.child,j=w.sibling,l=Ci(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?E=Ci(j,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,_l(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Oh(a):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=wm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Mh,_l(t.child,l)):(ca(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function zh(t,n){return n=uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uo(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Uh(t,n,a){return fs(n,t.child,null,a),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Lh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),ke(t,n,l,a),l=Mt?sl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,a,n);else if(t.tag===19)Bg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Lh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Lh(n,!0,a,null,f,l);break;case"together":Lh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ks(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function s1(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ra(n,Ee,t.memoizedState.cache),rs();break;case 27:case 5:ka(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,oh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(ca(n),t=Oi(t,n,a),t!==null?t.sibling:null);ca(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ks(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Mg(t,n,a,n.pendingProps);case 24:ra(n,Ee,t.memoizedState.cache)}return Oi(t,n,a)}function qg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!jh(t,a)&&(n.flags&128)===0)return Ae=!1,s1(t,n,a);Ae=(t.flags&131072)!==0}else Ae=!1,Mt&&(n.flags&1048576)!==0&&vm(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")Hc(t)?(l=ms(t,l),n.tag=1,n=Ug(null,n,t,l,a)):(n.tag=0,n=Ih(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===qt){n.tag=11,n=Vg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Ng(null,n,t,l,a);break t}}throw n=bt(t)||t,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),Ug(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),dl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ra(n,Ee,l),l!==f.cache&&$c(n,[Ee],a,!0),fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,l,a);break t}else if(l!==c){c=wn(Error(s(424)),n),rl(c),n=Lg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,te=In(t.firstChild),je=n,Mt=!0,aa=null,Vn=!0,a=Mm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rs(),l===c){n=Oi(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return lo(t,n),t===null?(a=$p(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,t=n.pendingProps,l=Ro(At.current).createElement(a),l[ye]=n,l[Me]=t,qe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ka(n),t===null&&Mt&&(l=n.stateNode=Kp(n.type,n.pendingProps,At.current),je=n,Vn=!0,c=te,va(n.type)?(_f=c,te=In(l.firstChild)):te=c),ke(t,n,n.pendingProps.children,a),lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Mt&&((c=l=te)&&(l=z1(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,je=n,te=In(l.firstChild),Vn=!1,c=!0):c=!1),c||sa(n)),ka(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:g!==null&&df(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,Zv,null,null,a),Ol._currentValue=c),lo(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&Mt&&((t=a=te)&&(a=U1(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,je=n,te=null,t=!0):t=!1),t||sa(n)),null;case 13:return jg(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):ke(t,n,l,a),n.child;case 11:return Vg(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,us(n),c=Be(c),l=l(c),n.flags|=1,ke(t,n,l,a),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,a);case 15:return Ig(t,n,n.type,n.pendingProps,a);case 19:return kg(t,n,a);case 31:return a1(t,n,a);case 22:return Mg(t,n,a,n.pendingProps);case 24:return us(n),l=Be(Ee),t===null?(c=eh(),c===null&&(c=Wt,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ih(n),ra(n,Ee,c)):((t.lanes&a)!==0&&(ah(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,Ee,l)):(l=f.cache,ra(n,Ee,l),l!==c.cache&&$c(n,[Ee],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function Bh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mp())t.flags|=8192;else throw hs=Fu,nh}else t.flags&=-16777217}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n))if(mp())t.flags|=8192;else throw hs=Fu,nh}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gu():536870912,t.lanes|=n,lr|=n)}function vl(t,n){if(!Mt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function r1(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(ee(n),Pg(n,f)):(ee(n),Bh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),ee(n),Pg(n,f)):(ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),ee(n),Bh(n,c,t,l,a)),null;case 27:if(ws(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=at.current,Xs(n)?Tm(n):(t=Kp(c,l,a),n.stateNode=t,xi(n))}return ee(n),null;case 5:if(ws(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=at.current,Xs(n))Tm(n);else{var g=Ro(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return ee(n),Bh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,Xs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||sa(n,!0)}else t=Ro(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Xs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ye]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),t=!1}else a=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),oo(n,n.updateQueue),ee(n),null);case 4:return ae(),t===null&&uf(n.stateNode.containerInfo),ee(n),null;case 10:return Ni(n.type),ee(n),null;case 19:if(Y(fe),l=n.memoizedState,l===null)return ee(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)vl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,vl(l,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)pm(a,t),a=a.sibling;return nt(fe,fe.current&1|2),Mt&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>go&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Zu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return ee(n),null}else 2*Ze()-l.renderingStartTime>go&&a!==536870912&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,nt(fe,c?a&1|2:a&1),Mt&&Di(n,l.treeForkCount),t):(ee(n),null);case 22:case 23:return gn(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&oo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function l1(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ws(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(fe),null;case 4:return ae(),null;case 10:return Ni(n.type),null;case 22:case 23:return gn(n),uh(),t!==null&&Y(os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(Ee),null;case 25:return null;default:return null}}function Hg(t,n){switch(Yc(n),n.tag){case 3:Ni(Ee),ae();break;case 26:case 27:case 5:ws(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(fe);break;case 10:Ni(n.type);break;case 22:case 23:gn(n),uh(),t!==null&&Y(os);break;case 24:Ni(Ee)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,j=E;try{j()}catch(G){Yt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function Gg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Yt(t,t.return,l)}}}function Qg(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Fg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function kh(t,n,a){try{var l=t.stateNode;V1(l,t.type,a,n),l[Me]=n}catch(c){Yt(t,t.return,c)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=kn));else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ph(t,n,a),t=t.sibling;t!==null;)Ph(t,n,a),t=t.sibling}function co(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(co(t,n,a),t=t.sibling;t!==null;)co(t,n,a),t=t.sibling}function Xg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[ye]=t,n[Me]=a}catch(f){Yt(t,t.return,f)}}var zi=!1,Se=!1,Hh=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function u1(t,n){if(t=t.containerInfo,hf=Mo,t=lm(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,j=0,G=0,F=t,B=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(w=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===a&&++j===c&&(E=g),B===f&&++G===l&&(w=g),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Mo=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=ms(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Yt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Zg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&El(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&Gg(a),l&512&&Tl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Xg(a);case 26:case 5:Li(t,a),n===null&&l&4&&Fg(a),l&512&&Tl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&Wg(t,a);break;case 13:Li(t,a),l&4&&tp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=y1.bind(null,a),L1(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=l,(Se=n)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),zi=c,Se=f}break;case 30:break;default:Li(t,a)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Is(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Ui(t,n,a){for(a=a.child;a!==null;)$g(t,n,a),a=a.sibling}function $g(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:Se||mi(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||mi(a,n);var l=re,c=en;va(a.type)&&(re=a.stateNode,en=!1),Ui(t,n,a),Nl(a.stateNode),re=l,en=c;break;case 5:Se||mi(a,n);case 6:if(l=re,c=en,re=null,Ui(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:re!==null&&(en?(t=re,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gr(t)):Gp(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Ui(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:fa(2,a,n),Se||fa(4,a,n),Ui(t,n,a);break;case 1:Se||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qg(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:Se=(l=Se)||a.memoizedState!==null,Ui(t,n,a),Se=l;break;default:Ui(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gr(t)}catch(a){Yt(n,n.return,a)}}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gr(t)}catch(a){Yt(n,n.return,a)}}function o1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(s(435,t.tag))}}function ho(t,n){var a=o1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=_1.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(va(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(s(160));$g(f,g,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var Fn=null;function ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(fa(3,t,t.return),El(3,t),fa(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Fn;if(nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=ey("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),a!==null&&l&4&&kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Yt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Hh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Yt(t,t.return,st)}}break;case 3:if(Do=null,c=Fn,Fn=wo(n.containerInfo),nn(n,t),Fn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gr(n.containerInfo)}catch(st){Yt(t,t.return,st)}Hh&&(Hh=!1,np(t));break;case 4:l=Fn,Fn=wo(t.stateNode.containerInfo),nn(n,t),an(t),Fn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mo=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=zi,G=Se;if(zi=j||c,Se=G||w,nn(n,t),Se=G,zi=j,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||zi||Se||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(st){Yt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Yt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var q=w.stateNode;c?Qp(q,!0):Qp(w.stateNode,!1)}catch(st){Yt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ho(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=qh(t);co(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=qh(t);co(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,j=qh(t);Ph(t,j,w);break;default:throw Error(s(161))}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zg(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),gs(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Qg(n,n.return,a),gs(n);break;case 27:Nl(n.stateNode);case 26:case 5:mi(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(c,f,a),El(4,f);break;case 1:if(ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Yt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Om(w[c],E)}catch(j){Yt(l,l.return,j)}}a&&g&64&&Gg(f),Tl(f,f.return);break;case 27:Xg(f);case 26:case 5:ji(c,f,a),a&&l===null&&g&4&&Fg(f),Tl(f,f.return);break;case 12:ji(c,f,a);break;case 31:ji(c,f,a),a&&g&4&&Wg(c,f);break;case 13:ji(c,f,a),a&&g&4&&tp(c,f);break;case 22:f.memoizedState===null&&ji(c,f,a),Tl(f,f.return);break;case 30:break;default:ji(c,f,a)}n=n.sibling}}function Gh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,a,l),n=n.sibling}function ip(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&El(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Yn(t,n,a,l);break;case 31:Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):Al(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,ar(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Gh(g,n);break;case 24:Yn(t,n,a,l),c&2048&&Qh(n.alternate,n);break;default:Yn(t,n,a,l)}}function ar(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:ar(f,g,E,w,c),El(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ar(f,g,E,w,c):Al(f,g):(G._visibility|=2,ar(f,g,E,w,c)),c&&j&2048&&Gh(g.alternate,g);break;case 24:ar(f,g,E,w,c),c&&j&2048&&Qh(g.alternate,g);break;default:ar(f,g,E,w,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Al(a,l),c&2048&&Gh(l.alternate,l);break;case 24:Al(a,l),c&2048&&Qh(l.alternate,l);break;default:Al(a,l)}n=n.sibling}}var Sl=8192;function sr(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)ap(t,n,a),t=t.sibling}function ap(t,n,a){switch(t.tag){case 26:sr(t,n,a),t.flags&Sl&&t.memoizedState!==null&&K1(a,Fn,t.memoizedState,t.memoizedProps);break;case 5:sr(t,n,a);break;case 3:case 4:var l=Fn;Fn=wo(t.stateNode.containerInfo),sr(t,n,a),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,sr(t,n,a),Sl=l):sr(t,n,a));break;default:sr(t,n,a)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,lp(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&fa(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fo(t)):bl(t);break;default:bl(t)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,lp(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),fo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fo(n));break;default:fo(n)}t=t.sibling}}function lp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(Jg(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var c1={getCacheForType:function(t){var n=Be(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Be(Ee).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,kt=0,Wt=null,Rt=null,Dt=0,Ft=0,pn=null,da=!1,rr=!1,Fh=!1,Bi=0,oe=0,ma=0,ps=0,Yh=0,yn=0,lr=0,Rl=null,sn=null,Xh=!1,mo=0,up=0,go=1/0,po=null,ga=null,Ve=0,pa=null,ur=null,ki=0,Kh=0,Zh=null,op=null,wl=0,Jh=null;function _n(){return(kt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?af():pu()}function cp(){if(yn===0)if((Dt&536870912)===0||Mt){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function rn(t,n,a){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(or(t,0),ya(t,Dt,yn,!1)),Ga(t,a),((kt&2)===0||t!==Wt)&&(t===Wt&&((kt&2)===0&&(ps|=a),oe===4&&ya(t,Dt,yn,!1)),gi(t))}function hp(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),c=l?m1(t,n):Wh(t,n,!0),f=l;do{if(c===0){rr&&!l&&ya(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!f1(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Rl;var w=E.current.memoizedState.isDehydrated;if(w&&(or(E,g).flags|=256),g=Wh(E,g,!1),g!==2){if(Fh&&!w){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){or(t,0),ya(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ya(l,n,yn,!da);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=mo+300-Ze(),10<c)){if(ya(l,n,yn,!da),Jn(l,0,!0)!==0)break t;ki=n,l.timeoutHandle=Pp(fp.bind(null,l,a,sn,po,Xh,n,yn,ps,lr,da,f,"Throttled",-0,0),c);break t}fp(l,a,sn,po,Xh,n,yn,ps,lr,da,f,null,-0,0)}}break}while(!0);gi(t)}function fp(t,n,a,l,c,f,g,E,w,j,G,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},ap(n,f,F);var st=(f&62914560)===f?mo-Ze():(f&4194048)===f?up-Ze():0;if(st=Z1(F,st),st!==null){ki=f,t.cancelPendingCommit=st(Ep.bind(null,t,n,f,a,l,c,g,E,w,G,F,null,B,q)),ya(t,f,g,!j);return}}Ep(t,n,f,a,l,c,g,E,w)}function f1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,a,l){n&=~Yh,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Qa(t,a,n)}function yo(){return(kt&6)===0?(Cl(0),!1):!0}function $h(){if(Rt!==null){if(Ft===0)var t=Rt.return;else t=Rt,Vi=ls=null,mh(t),Ws=null,ol=0,t=Rt;for(;t!==null;)Hg(t.alternate,t),t=t.return;Rt=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,M1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ki=0,$h(),Wt=t,Rt=a=Ci(t.current,null),Dt=n,Ft=0,pn=null,da=!1,rr=Ln(t,n),Fh=!1,lr=yn=Yh=ps=ma=oe=0,sn=Rl=null,Xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Lu(),a}function dp(t,n){Tt=null,H.H=yl,n===$s||n===Qu?(n=Vm(),Ft=3):n===nh?(n=Vm(),Ft=4):Ft=n===Nh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Rt===null&&(oe=1,so(t,wn(n,t.current)))}function mp(){var t=mn.current;return t===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Nn:!1}function gp(){var t=H.H;return H.H=yl,t===null?yl:t}function pp(){var t=H.A;return H.A=c1,t}function _o(){oe=4,da||(Dt&4194048)!==Dt&&mn.current!==null||(rr=!0),(ma&134217727)===0&&(ps&134217727)===0||Wt===null||ya(Wt,Dt,yn,!1)}function Wh(t,n,a){var l=kt;kt|=2;var c=gp(),f=pp();(Wt!==t||Dt!==n)&&(po=null,or(t,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,w=pn;switch(Ft){case 8:$h(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var j=Ft;if(Ft=0,pn=null,cr(t,E,w,j),a&&rr){g=0;break t}break;default:j=Ft,Ft=0,pn=null,cr(t,E,w,j)}}d1(),g=oe;break}catch(G){dp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Vi=ls=null,kt=l,H.H=c,H.A=f,Rt===null&&(Wt=null,Dt=0,Lu()),g}function d1(){for(;Rt!==null;)yp(Rt)}function m1(t,n){var a=kt;kt|=2;var l=gp(),c=pp();Wt!==t||Dt!==n?(po=null,go=Ze()+500,or(t,n)):rr=Ln(t,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,cr(t,n,f,1);break;case 2:case 9:if(Cm(f)){Ft=0,pn=null,_p(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),gi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Cm(f)?(Ft=0,pn=null,_p(n)):(Ft=0,pn=null,cr(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?iy(g):E.stateNode.complete){Ft=0,pn=null;var w=E.sibling;if(w!==null)Rt=w;else{var j=E.return;j!==null?(Rt=j,vo(j)):Rt=null}break e}}Ft=0,pn=null,cr(t,n,f,5);break;case 6:Ft=0,pn=null,cr(t,n,f,6);break;case 8:$h(),oe=6;break t;default:throw Error(s(462))}}g1();break}catch(G){dp(t,G)}while(!0);return Vi=ls=null,H.H=l,H.A=c,kt=a,Rt!==null?0:(Wt=null,Dt=0,Lu(),oe)}function g1(){for(;Rt!==null&&!Vc();)yp(Rt)}function yp(t){var n=qg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?vo(t):Rt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=zg(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=zg(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:mh(n);default:Hg(a,n),n=Rt=pm(n,Bi),n=qg(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?vo(t):Rt=n}function cr(t,n,a,l){Vi=ls=null,mh(n),Ws=null,ol=0;var c=n.return;try{if(i1(t,c,n,a,Dt)){oe=1,so(t,wn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;oe=1,so(t,wn(a,t.current)),Rt=null;return}n.flags&32768?(Mt||l===1?t=!0:rr||(Dt&536870912)!==0?t=!1:(da=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):vo(n)}function vo(t){var n=t;do{if((n.flags&32768)!==0){vp(n,da);return}t=n.return;var a=r1(n.alternate,n,Bi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);oe===0&&(oe=5)}function vp(t,n){do{var a=l1(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);oe=6,Rt=null}function Ep(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Eo();while(Ve!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=qc,Mc(t,a,f,g,E,w),t===Wt&&(Rt=Wt=null,Dt=0),ur=n,pa=t,ki=a,Kh=f,Zh=c,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,v1(Yi,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=kt,kt|=4;try{u1(t,n,a)}finally{kt=g,et.p=c,H.T=l}}Ve=1,Tp(),Ap(),Sp()}}function Tp(){if(Ve===1){Ve=0;var t=pa,n=ur,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{ep(n,t);var f=ff,g=lm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(w!==null&&Uc(E)){var j=w.start,G=w.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),st=E.textContent.length,ht=Math.min(w.start,st),$t=w.end===void 0?ht:Math.min(w.end,st);!q.extend&&ht>$t&&(g=$t,$t=ht,ht=g);var z=sm(E,ht),N=sm(E,$t);if(z&&N&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=F.createRange();L.setStart(z.node,z.offset),q.removeAllRanges(),ht>$t?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mo=!!hf,ff=hf=null}finally{kt=c,et.p=l,H.T=a}}t.current=n,Ve=2}}function Ap(){if(Ve===2){Ve=0;var t=pa,n=ur,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Zg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=a}}Ve=3}}function Sp(){if(Ve===4||Ve===3){Ve=0,ou();var t=pa,n=ur,a=ki,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ur=pa=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ga=null),Si(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ki&3)!==0&&Eo(),gi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Jh?wl++:(wl=0,Jh=t):wl=0,Cl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Eo(){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(Ve!==5)return!1;var t=pa,n=Kh;Kh=0;var a=Si(ki),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Zh,Zh=null;var f=pa,g=ki;if(Ve=0,ur=pa=null,ki=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,rp(f.current),ip(f,f.current,g,a),kt=E,Cl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=c,H.T=l,bp(t,n)}}function wp(t,n,a){n=wn(a,n),n=Vh(t.stateNode,n,2),t=oa(t,n,2),t!==null&&(Ga(t,2),gi(t))}function Yt(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=wn(a,t),a=Cg(2),l=oa(n,a,2),l!==null&&(Dg(a,l,n,t),Ga(l,2),gi(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new h1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Fh=!0,c.add(a),t=p1.bind(null,t,n,a),n.then(t,t))}function p1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Dt&a)===a&&(oe===4||oe===3&&(Dt&62914560)===Dt&&300>Ze()-mo?(kt&2)===0&&or(t,0):Yh|=a,lr===Dt&&(lr=0)),gi(t)}function Cp(t,n){n===0&&(n=gu()),t=as(t,n),t!==null&&(Ga(t,n),gi(t))}function y1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Cp(t,a)}function _1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,a)}function v1(t,n){return De(t,n)}var To=null,hr=null,ef=!1,Ao=!1,nf=!1,_a=0;function gi(t){t!==hr&&t.next===null&&(hr===null?To=hr=t:hr=hr.next=t),Ao=!0,ef||(ef=!0,T1())}function Cl(t,n){if(!nf&&Ao){nf=!0;do for(var a=!1,l=To;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ip(l,f))}else f=Dt,f=Jn(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(a=!0,Ip(l,f));l=l.next}while(a);nf=!1}}function E1(){Dp()}function Dp(){Ao=ef=!1;var t=0;_a!==0&&I1()&&(t=_a);for(var n=Ze(),a=null,l=To;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,a===null?To=c:a.next=c,c===null&&(hr=a)):(a=l,(t!==0||(f&3)!==0)&&(Ao=!0)),l=c}Ve!==0&&Ve!==5||Cl(t),_a!==0&&(_a=0)}function Vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Ic(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Dt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Fi(l),Si(a)){case 2:case 8:a=Lr;break;case 32:a=Yi;break;case 268435456:a=cu;break;default:a=Yi}return l=Np.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Fi(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eo()&&t.callbackNode!==a)return null;var l=Dt;return l=Jn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hp(t,l,n),Vp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Ip(t,n){if(Eo())return null;hp(t,n,!0)}function T1(){O1(function(){(kt&6)!==0?De(Ur,E1):Dp()})}function af(){if(_a===0){var t=Zs;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),_a=t}return _a}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zs(""+t)}function Op(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function A1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Mp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Mp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var w=g?Op(c,g):new FormData(c);Sh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Op(c,g):new FormData(c),Sh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var sf=0;sf<kc.length;sf++){var rf=kc[sf],S1=rf.toLowerCase(),b1=rf[0].toUpperCase()+rf.slice(1);Qn(S1,"on"+b1)}Qn(cm,"onAnimationEnd"),Qn(hm,"onAnimationIteration"),Qn(fm,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(kv,"onTransitionRun"),Qn(qv,"onTransitionStart"),Qn(Pv,"onTransitionCancel"),Qn(dm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){Uu(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,j=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){Uu(G)}c.currentTarget=null,f=w}}}}function wt(t,n){var a=n[Ns];a===void 0&&(a=n[Ns]=new Set);var l=t+"__bubble";a.has(l)||(zp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),zp(a,t,l,n)}var So="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[So]){t[So]=!0,kr.forEach(function(a){a!=="selectionchange"&&(R1.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[So]||(n[So]=!0,lf("selectionchange",!1,n))}}function zp(t,n,a,l){switch(cy(n)){case 2:var c=W1;break;case 8:c=tE;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function of(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Wi(function(){var j=f,G=An(a),F=[];t:{var B=mm.get(t);if(B!==void 0){var q=ui,st=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":q=Ou;break;case"focusin":st="focus",q=ts;break;case"focusout":st="blur",q=ts;break;case"beforeblur":case"afterblur":q=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case cm:case hm:case fm:q=wu;break;case dm:q=T;break;case"scroll":case"scrollend":q=$r;break;case"wheel":q=k;break;case"copy":case"cut":case"paste":q=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wi;break;case"toggle":case"beforetoggle":q=Et}var ht=(n&4)!==0,$t=!ht&&(t==="scroll"||t==="scrollend"),z=ht?B!==null?B+"Capture":null:B;ht=[];for(var N=j,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=qn(N,z),Q!=null&&ht.push(Vl(N,Q,L))),$t)break;N=N.return}0<ht.length&&(B=new q(B,st,null,a,G),F.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==Kr&&(st=a.relatedTarget||a.fromElement)&&(ei(st)||st[Wn]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=j,st=st?ei(st):null,st!==null&&($t=h(st),ht=st.tag,st!==$t||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(q=null,st=j),q!==st)){if(ht=Wr,Q="onMouseLeave",z="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ht=wi,Q="onPointerLeave",z="onPointerEnter",N="pointer"),$t=q==null?B:cn(q),L=st==null?B:cn(st),B=new ht(Q,N+"leave",q,a,G),B.target=$t,B.relatedTarget=L,Q=null,ei(G)===j&&(ht=new ht(z,N+"enter",st,a,G),ht.target=L,ht.relatedTarget=$t,Q=ht),$t=Q,q&&st)e:{for(ht=w1,z=q,N=st,L=0,Q=z;Q;Q=ht(Q))L++;Q=0;for(var ot=N;ot;ot=ht(ot))Q++;for(;0<L-Q;)z=ht(z),L--;for(;0<Q-L;)N=ht(N),Q--;for(;L--;){if(z===N||N!==null&&z===N.alternate){ht=z;break e}z=ht(z),N=ht(N)}ht=null}else ht=null;q!==null&&Up(F,B,q,ht,!1),st!==null&&$t!==null&&Up(F,$t,st,ht,!0)}}t:{if(B=j?cn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Lt=Wd;else if(Jd(B))if(tm)Lt=Lv;else{Lt=zv;var rt=xv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&xs(j.elementType)&&(Lt=Wd):Lt=Uv;if(Lt&&(Lt=Lt(t,j))){$d(F,Lt,a,G);break t}rt&&rt(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Fr(B,"number",B.value)}switch(rt=j?cn(j):window,t){case"focusin":(Jd(rt)||rt.contentEditable==="true")&&(Ps=rt,Lc=j,al=null);break;case"focusout":al=Lc=Ps=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,um(F,a,G);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":um(F,a,G)}var St;if(Bt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else qs?es(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(hi&&a.locale!=="ko"&&(qs||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&qs&&(St=Jr()):(li=G,Zr="value"in li?li.value:li.textContent,qs=!0)),rt=bo(j,Vt),0<rt.length&&(Vt=new ci(Vt,t,null,a,G),F.push({event:Vt,listeners:rt}),St?Vt.data=St:(St=ks(a),St!==null&&(Vt.data=St)))),(St=bn?Nv(t,a):Iv(t,a))&&(Vt=bo(j,"onBeforeInput"),0<Vt.length&&(rt=new ci("onBeforeInput","beforeinput",null,a,G),F.push({event:rt,listeners:Vt}),rt.data=St)),A1(F,t,j,a,G)}xp(F,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qn(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=qn(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function w1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Up(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||j===null||(w=j,c?(j=qn(a,f),j!=null&&g.unshift(Vl(a,j,w))):c||(j=qn(a,f),j!=null&&g.push(Vl(a,j,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var C1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Lp(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(D1,"")}function jp(t,n){return n=Lp(n),Lp(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":Xr(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=kn);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Ms(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Ms(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":Xr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ms(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=g=c=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(t,n,l,G,a,null)}}Eu(t,f,E,w,j,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ki(t,!!l,n,!1):a!=null&&Ki(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}Zi(t,l,c,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(t,n,w,l,a,null));return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)wt(Dl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,j,l,a,null)}return;default:if(xs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&cf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function V1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,j=null,G=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(q)||Jt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=a[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Jt(t,n,B,q,l,F)}}Os(t,g,E,w,j,G,f,c);return;case"select":q=g=E=B=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Jt(t,n,c,f,l,w)}n=E,a=g,l=q,B!=null?Ki(t,!!a,B,!1):!!l!=!!a&&(n!=null?Ki(t,!!a,n,!0):Ki(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Tu(t,B,q);return;case"option":for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Jt(t,n,st,null,l,B));for(w in l)B=l[w],q=a[w],l.hasOwnProperty(w)&&B!==q&&(B!=null||q!=null)&&(w==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(t,n,w,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Jt(t,n,ht,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Jt(t,n,j,B,l,q)}return;default:if(xs(n)){for(var $t in a)B=a[$t],a.hasOwnProperty($t)&&B!==void 0&&!l.hasOwnProperty($t)&&cf(t,n,$t,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||cf(t,n,G,B,l,q);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Jt(t,n,F,B,l,q)}function Bp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Bp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],j=w.startTime;if(j>E)break;var G=w.transferSize,F=w.initiatorType;G&&Bp(F)&&(w=w.responseEnd,g+=G*(w<E?1:(E-j)/(w-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hf=null,ff=null;function Ro(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function I1(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(x1)}:Pp;function x1(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function Gp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),gr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Nl(t.ownerDocument.body);a=c}while(a);gr(n)}function Qp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function z1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function U1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Fp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$?"||t.data==="$~"}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _f=null;function Yp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return In(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Kp(t,n,a){switch(n=Ro(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Is(t)}var Mn=new Map,Zp=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=et.d;et.d={f:j1,r:B1,D:k1,C:q1,L:P1,m:H1,X:Q1,S:G1,M:F1};function j1(){var t=qi.f(),n=yo();return t||n}function B1(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):qi.r(t)}var fr=typeof document>"u"?null:document;function Jp(t,n,a){var l=fr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),_e(n),l.head.appendChild(n)))}}function k1(t){qi.D(t),Jp("dns-prefetch",t,null)}function q1(t,n){qi.C(t,n),Jp("preconnect",t,n)}function P1(t,n,a){qi.L(t,n,a);var l=fr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=dr(t);break;case"script":f=mr(t)}Mn.has(f)||(t=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),qe(n,"link",t),_e(n),l.head.appendChild(n)))}}function H1(t,n){qi.m(t,n);var a=fr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mr(t)}if(!Mn.has(f)&&(t=C({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),qe(l,"link",t),_e(l),a.head.appendChild(l)}}}function G1(t,n,a){qi.S(t,n,a);var l=fr;if(l&&t){var c=ni(l).hoistableStyles,f=dr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&vf(t,a);var w=g=l.createElement("link");_e(w),qe(w,"link",t),w._p=new Promise(function(j,G){w.onload=j,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Q1(t,n){qi.X(t,n);var a=fr;if(a&&t){var l=ni(a).hoistableScripts,c=mr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=C({src:t,async:!0},n),(n=Mn.get(c))&&Ef(t,n),f=a.createElement("script"),_e(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function F1(t,n){qi.M(t,n);var a=fr;if(a&&t){var l=ni(a).hoistableScripts,c=mr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=C({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&Ef(t,n),f=a.createElement("script"),_e(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,a,l){var c=(c=At.current)?wo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=dr(a.href),a=ni(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=dr(a.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||Y1(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mr(a),a=ni(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function dr(t){return'href="'+We(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function Y1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),_e(n),t.head.appendChild(n))}function mr(t){return'[src="'+We(t)+'"]'}function Ml(t){return"script[async]"+t}function ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),qe(l,"style",c),Co(l,a.precedence,t),n.instance=l;case"stylesheet":c=dr(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Wp(a),(c=Mn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),n.state.loading|=4,Co(f,a.precedence,t),n.instance=f;case"script":return f=mr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,_e(c),c):(l=a,(c=Mn.get(f))&&(l=C({},a),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,a.precedence,t));return n.instance}function Co(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Do=null;function ey(t,n,a){if(Do===null){var l=new Map,c=Do=new Map;c.set(a,l)}else c=Do,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ti]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function X1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function K1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=dr(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=Wp(l),(c=Mn.get(c))&&vf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Tf=0;function Z1(t,n){return t.stylesheets&&t.count===0&&Io(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Tf===0&&(Tf=62500*N1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Tf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var No=null;function Io(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,No=new Map,n.forEach(J1,t),No=null,Vo.call(t))}function J1(t,n){if(!(n.state.loading&4)){var a=No.get(t);if(a)var l=a.get(null);else{a=new Map,No.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function $1(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ay(t,n,a,l,c,f,g,E,w,j,G,F){return t=new $1(t,n,a,g,w,j,G,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ih(f),t}function sy(t){return t?(t=Qs,t):Qs}function ry(t,n,a,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=oa(t,l,n),a!==null&&(rn(a,t,n),hl(a,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Af(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function uy(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&rn(n,t,67108864),Af(t,67108864)}}function oy(t){if(t.tag===13||t.tag===31){var n=_n();n=Fa(n);var a=as(t,n);a!==null&&rn(a,t,n),Af(t,n)}}var Mo=!0;function W1(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Sf(t,n,a,l)}finally{et.p=f,H.T=c}}function tE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Sf(t,n,a,l)}finally{et.p=f,H.T=c}}function Sf(t,n,a,l){if(Mo){var c=bf(l);if(c===null)of(t,n,l,Oo,a),hy(t,l);else if(nE(c,t,n,a,l))l.stopPropagation();else if(hy(t,l),n&4&&-1<eE.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}gi(f),(kt&6)===0&&(go=Ze()+500,Cl(0))}}break;case 31:case 13:E=as(f,2),E!==null&&rn(E,f,2),yo(),Af(f,2)}if(f=bf(l),f===null&&of(t,n,l,Oo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(t,n,l,null,a)}}function bf(t){return t=An(t),Rf(t)}var Oo=null;function Rf(t){if(Oo=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oo=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Ur:return 2;case Lr:return 8;case Yi:case Nc:return 32;case cu:return 268435456;default:return 32}default:return 32}}var wf=!1,Ea=null,Ta=null,Aa=null,xl=new Map,zl=new Map,Sa=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function nE(t,n,a,l,c){switch(n){case"focusin":return Ea=Ul(Ea,t,n,a,l,c),!0;case"dragenter":return Ta=Ul(Ta,t,n,a,l,c),!0;case"mouseover":return Aa=Ul(Aa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function fy(t){var n=ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,jn(t.priority,function(){oy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,jn(t.priority,function(){oy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kr=l,a.target.dispatchEvent(l),Kr=null}else return n=Tn(a),n!==null&&uy(n),t.blockedOn=a,!1;n.shift()}return!0}function dy(t,n,a){xo(t)&&a.delete(n)}function iE(){wf=!1,Ea!==null&&xo(Ea)&&(Ea=null),Ta!==null&&xo(Ta)&&(Ta=null),Aa!==null&&xo(Aa)&&(Aa=null),xl.forEach(dy),zl.forEach(dy)}function zo(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iE)))}var Uo=null;function my(t){Uo!==t&&(Uo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uo===t&&(Uo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function gr(t){function n(w){return zo(w,t)}Ea!==null&&zo(Ea,t),Ta!==null&&zo(Ta,t),Aa!==null&&zo(Aa,t),xl.forEach(n),zl.forEach(n);for(var a=0;a<Sa.length;a++){var l=Sa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)fy(a),a.blockedOn===null&&Sa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||my(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Rf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),my(a)}}}function gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Cf(t){this._internalRoot=t}Lo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();ry(a,l,t,n,null,null)},Lo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),yo(),n[Wn]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sa.length&&n!==0&&n<Sa[a].priority;a++);Sa.splice(a,0,t),a===0&&fy(t)}};var py=e.version;if(py!=="19.2.3")throw Error(s(527,py,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var aE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Un=jo.inject(aE),Ue=jo}catch{}}return jl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Sg,f=bg,g=Rg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ay(t,1,!1,null,null,a,l,null,c,f,g,gy),t[Wn]=n.current,uf(t),new Cf(n)},jl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Sg,g=bg,E=Rg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ay(t,1,!0,n,a??null,l,c,w,f,g,E,gy),n.context=sy(null),a=n.current,l=_n(),l=Fa(l),c=ua(l),c.callback=null,oa(a,c,l),a=l,n.current.lanes=a,Ga(n,a),gi(n),t[Wn]=n.current,uf(t),new Lo(n)},jl.version="19.2.3",jl}var wy;function mE(){if(wy)return Nf.exports;wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nf.exports=dE(),Nf.exports}var gE=mE();const pE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Cy=r=>{const e=yE(r);return e.charAt(0).toUpperCase()+e.slice(1)},q_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),_E=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var vE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EE=Ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:h,iconNode:d,...y},v)=>Ye.createElement("svg",{ref:v,...vE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:q_("lucide",u),...!h&&!_E(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Ye.createElement(_,S)),...Array.isArray(h)?h:[h]]));const on=(r,e)=>{const i=Ye.forwardRef(({className:s,...u},h)=>Ye.createElement(EE,{ref:h,iconNode:e,className:q_(`lucide-${pE(Cy(r))}`,`lucide-${r}`,s),...u}));return i.displayName=Cy(r),i};const TE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AE=on("check",TE);const SE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bE=on("circle",SE);const RE=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],P_=on("droplets",RE);const wE=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],CE=on("flame",wE);const DE=[["path",{d:"M5 12h14",key:"1ays0h"}]],VE=on("minus",DE);const NE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Dy=on("moon",NE);const IE=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],ME=on("pill",IE);const OE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vy=on("plus",OE);const xE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ny=on("sun",xE);const zE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UE=on("trash-2",zE);const LE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jE=on("triangle-alert",LE);const BE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],kE=on("trophy",BE);const qE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PE=on("x",qE);const HE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GE=on("zap",HE),QE=()=>new Date().toISOString().split("T")[0],Iy=({supplement:r,onToggle:e,onDelete:i})=>{const s=QE(),u=r.history.includes(s),h=r.stock||0,d=r.perDay||1,y=Math.floor(h/d),v=y<7&&h>0,_=h<=0,S=()=>r.type==="tropfen"?Z.jsx(P_,{className:"w-6 h-6"}):r.type==="kapsel"?Z.jsx(ME,{className:"w-6 h-6"}):Z.jsx(bE,{className:"w-6 h-6"});return Z.jsxs("div",{onClick:()=>e(r.id),className:`
        relative overflow-hidden rounded-2xl p-5 border-2 transition-all duration-300 cursor-pointer shadow-sm group
        ${u?"border-green-500 bg-green-50/50 opacity-70 scale-95":"border-slate-200 bg-white hover:border-blue-400 hover:shadow-md scale-100"}
        ${!u&&_?"border-red-300 bg-red-50":""}
      `,children:[Z.jsx("button",{onClick:C=>{C.stopPropagation(),window.confirm(`Mchtest du "${r.name}" wirklich lschen?`)&&i(r.id)},className:"absolute top-2 right-2 p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all z-10",title:"Lschen",children:Z.jsx(UE,{className:"w-4 h-4"})}),Z.jsxs("div",{className:"flex justify-between items-center mt-2",children:[" ",Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("div",{className:`p-3 rounded-full ${u?"bg-green-200 text-green-700":"bg-blue-100 text-blue-600"}`,children:S()}),Z.jsxs("div",{children:[Z.jsx("h3",{className:`font-bold text-lg ${u?"text-green-800 line-through":"text-slate-800"}`,children:r.name}),Z.jsx("p",{className:"text-sm text-slate-500 font-medium",children:r.dosage}),Z.jsx("div",{className:"flex items-center gap-2 mt-1",children:_?Z.jsxs("span",{className:"text-xs font-bold text-red-500 flex items-center gap-1",children:[Z.jsx(jE,{className:"w-3 h-3"})," LEER - Nachfllen!"]}):Z.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${v?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:["Noch ",h," (",y," Tage)"]})})]})]}),Z.jsx("div",{className:`
          w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all
          ${u?"bg-green-500 border-green-500":"border-slate-300"}
        `,children:u&&Z.jsx(AE,{className:"text-white w-5 h-5"})})]})]})},FE=()=>{};var My={};const H_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},YE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,S=h>>2,C=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,P=_&63;v||(P=64,d||(x=64)),s.push(i[S],i[C],i[x],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(H_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const C=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||C==null)throw new XE;const x=h<<2|y>>4;if(s.push(x),_!==64){const P=y<<4&240|_>>2;if(s.push(P),C!==64){const J=_<<6&192|C;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(r){const e=H_(r);return G_.encodeByteArray(e,!0)},Zo=function(r){return KE(r).replace(/\./g,"")},ZE=function(r){try{return G_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $E=()=>JE().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof My>"u")return;const r=My.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZE(r[1]);return e&&JSON.parse(e)},md=()=>{try{return FE()||$E()||WE()||tT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eT=r=>md()?.emulatorHosts?.[r],nT=r=>{const e=eT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Q_=()=>md()?.config;class iT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function gd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(r){return(await fetch(r,{credentials:"include"})).ok}function sT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zo(JSON.stringify(i)),Zo(JSON.stringify(d)),""].join(".")}const Gl={};function rT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function lT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Oy=!1;function uT(r,e){if(typeof window>"u"||typeof document>"u"||!gd(window.location.host)||Gl[r]===e||Gl[r]||Oy)return;Gl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=rT().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,P){x.setAttribute("width","24"),x.setAttribute("id",P),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Oy=!0,d()},x}function S(x,P){x.setAttribute("id",P),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function C(){const x=lT(s),P=i("text"),J=document.getElementById(P)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),mt=i("preprendIcon"),vt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ft=x.element;y(ft),S($,tt);const qt=_();v(vt,mt),ft.append(vt,J,$,qt),document.body.appendChild(ft)}h?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function oT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){const r=md()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hT(){return!cT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const mT="FirebaseError";class Dr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F_.prototype.create)}}class F_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?gT(h,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Dr(u,y,s)}}function gT(r,e){return r.replace(pT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const pT=/\{\$([^}]+)}/g;function Jo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(xy(h)&&xy(d)){if(!Jo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}function Pi(r){return r&&r._delegate?r._delegate:r}class Kl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class yT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new iT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vT(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(r){return r===_s?void 0:r}function vT(r){return r.instantiationMode==="EAGER"}class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const TT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},AT=zt.INFO,ST={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},bT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=ST[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y_{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const RT=(r,e)=>e.some(i=>r instanceof i);let zy,Uy;function wT(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X_=new WeakMap,Gf=new WeakMap,K_=new WeakMap,xf=new WeakMap,pd=new WeakMap;function DT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(wa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&X_.set(i,r)}).catch(()=>{}),pd.set(e,r),e}function VT(r){if(Gf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Gf.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NT(r){Qf=r(Qf)}function IT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(zf(this),e,...i);return K_.set(s,e.sort?e.sort():[e]),wa(s)}:CT().includes(r)?function(...e){return r.apply(zf(this),e),wa(X_.get(this))}:function(...e){return wa(r.apply(zf(this),e))}}function MT(r){return typeof r=="function"?IT(r):(r instanceof IDBTransaction&&VT(r),RT(r,wT())?new Proxy(r,Qf):r)}function wa(r){if(r instanceof IDBRequest)return DT(r);if(xf.has(r))return xf.get(r);const e=MT(r);return e!==r&&(xf.set(r,e),pd.set(e,r)),e}const zf=r=>pd.get(r);function OT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=wa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(wa(d.result),v.oldVersion,v.newVersion,wa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const xT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],Uf=new Map;function Ly(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=zT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||xT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Uf.set(e,h),h}NT(r=>({...r,get:(e,i,s)=>Ly(e,i)||r.get(e,i,s),has:(e,i)=>!!Ly(e,i)||r.has(e,i)}));class UT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function LT(r){return r.getComponent()?.type==="VERSION"}const Ff="@firebase/app",jy="0.14.6";const Hi=new Y_("@firebase/app"),jT="@firebase/app-compat",BT="@firebase/analytics-compat",kT="@firebase/analytics",qT="@firebase/app-check-compat",PT="@firebase/app-check",HT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",FT="@firebase/data-connect",YT="@firebase/database-compat",XT="@firebase/functions",KT="@firebase/functions-compat",ZT="@firebase/installations",JT="@firebase/installations-compat",$T="@firebase/messaging",WT="@firebase/messaging-compat",tA="@firebase/performance",eA="@firebase/performance-compat",nA="@firebase/remote-config",iA="@firebase/remote-config-compat",aA="@firebase/storage",sA="@firebase/storage-compat",rA="@firebase/firestore",lA="@firebase/ai",uA="@firebase/firestore-compat",oA="firebase",cA="12.6.0";const Yf="[DEFAULT]",hA={[Ff]:"fire-core",[jT]:"fire-core-compat",[kT]:"fire-analytics",[BT]:"fire-analytics-compat",[PT]:"fire-app-check",[qT]:"fire-app-check-compat",[HT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[FT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[XT]:"fire-fn",[KT]:"fire-fn-compat",[ZT]:"fire-iid",[JT]:"fire-iid-compat",[$T]:"fire-fcm",[WT]:"fire-fcm-compat",[tA]:"fire-perf",[eA]:"fire-perf-compat",[nA]:"fire-rc",[iA]:"fire-rc-compat",[aA]:"fire-gcs",[sA]:"fire-gcs-compat",[rA]:"fire-fst",[uA]:"fire-fst-compat",[lA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};const $o=new Map,fA=new Map,Xf=new Map;function By(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wo(r){const e=r.name;if(Xf.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,r);for(const i of $o.values())By(i,r);for(const i of fA.values())By(i,r);return!0}function dA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function mA(r){return r==null?!1:r.settings!==void 0}const gA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new F_("app","Firebase",gA);class pA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const yA=cA;function Z_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Yf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Ca.create("bad-app-name",{appName:String(u)});if(i||(i=Q_()),!i)throw Ca.create("no-options");const h=$o.get(u);if(h){if(Jo(i,h.options)&&Jo(s,h.config))return h;throw Ca.create("duplicate-app",{appName:u})}const d=new ET(u);for(const v of Xf.values())d.addComponent(v);const y=new pA(i,s,d);return $o.set(u,y),y}function _A(r=Yf){const e=$o.get(r);if(!e&&r===Yf&&Q_())return Z_();if(!e)throw Ca.create("no-app",{appName:r});return e}function Er(r,e,i){let s=hA[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}Wo(new Kl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const vA="firebase-heartbeat-database",EA=1,Zl="firebase-heartbeat-store";let Lf=null;function J_(){return Lf||(Lf=OT(vA,EA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function TA(r){try{const i=(await J_()).transaction(Zl),s=await i.objectStore(Zl).get($_(r));return await i.done,s}catch(e){if(e instanceof Dr)Hi.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(i.message)}}}async function ky(r,e){try{const s=(await J_()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,$_(r)),await s.done}catch(i){if(i instanceof Dr)Hi.warn(i.message);else{const s=Ca.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function $_(r){return`${r.name}!${r.options.appId}`}const AA=1024,SA=30;class bA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>SA){const u=CA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qy(),{heartbeatsToSend:i,unsentEntries:s}=RA(this._heartbeatsCache.heartbeats),u=Zo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Hi.warn(e),""}}}function qy(){return new Date().toISOString().substring(0,10)}function RA(r,e=AA){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Py(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Py(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Py(r){return Zo(JSON.stringify({version:2,heartbeats:r})).length}function CA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function DA(r){Wo(new Kl("platform-logger",e=>new UT(e),"PRIVATE")),Wo(new Kl("heartbeat",e=>new bA(e),"PRIVATE")),Er(Ff,jy,r),Er(Ff,jy,"esm2020"),Er("fire-js","")}DA("");var VA="firebase",NA="12.7.0";Er(VA,NA,"app");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Da,W_;(function(){var r;function e(D,b){function A(){}A.prototype=b.prototype,D.F=b.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(M,V,O){for(var R=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)R[bt-2]=arguments[bt];return b.prototype[V].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,b,A){A||(A=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(V=0;V<16;++V)M[V]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=D.g[0],A=D.g[1],V=D.g[2];let O=D.g[3],R;R=b+(O^A&(V^O))+M[0]+3614090360&4294967295,b=A+(R<<7&4294967295|R>>>25),R=O+(V^b&(A^V))+M[1]+3905402710&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(A^O&(b^A))+M[2]+606105819&4294967295,V=O+(R<<17&4294967295|R>>>15),R=A+(b^V&(O^b))+M[3]+3250441966&4294967295,A=V+(R<<22&4294967295|R>>>10),R=b+(O^A&(V^O))+M[4]+4118548399&4294967295,b=A+(R<<7&4294967295|R>>>25),R=O+(V^b&(A^V))+M[5]+1200080426&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(A^O&(b^A))+M[6]+2821735955&4294967295,V=O+(R<<17&4294967295|R>>>15),R=A+(b^V&(O^b))+M[7]+4249261313&4294967295,A=V+(R<<22&4294967295|R>>>10),R=b+(O^A&(V^O))+M[8]+1770035416&4294967295,b=A+(R<<7&4294967295|R>>>25),R=O+(V^b&(A^V))+M[9]+2336552879&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(A^O&(b^A))+M[10]+4294925233&4294967295,V=O+(R<<17&4294967295|R>>>15),R=A+(b^V&(O^b))+M[11]+2304563134&4294967295,A=V+(R<<22&4294967295|R>>>10),R=b+(O^A&(V^O))+M[12]+1804603682&4294967295,b=A+(R<<7&4294967295|R>>>25),R=O+(V^b&(A^V))+M[13]+4254626195&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(A^O&(b^A))+M[14]+2792965006&4294967295,V=O+(R<<17&4294967295|R>>>15),R=A+(b^V&(O^b))+M[15]+1236535329&4294967295,A=V+(R<<22&4294967295|R>>>10),R=b+(V^O&(A^V))+M[1]+4129170786&4294967295,b=A+(R<<5&4294967295|R>>>27),R=O+(A^V&(b^A))+M[6]+3225465664&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^A&(O^b))+M[11]+643717713&4294967295,V=O+(R<<14&4294967295|R>>>18),R=A+(O^b&(V^O))+M[0]+3921069994&4294967295,A=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(A^V))+M[5]+3593408605&4294967295,b=A+(R<<5&4294967295|R>>>27),R=O+(A^V&(b^A))+M[10]+38016083&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^A&(O^b))+M[15]+3634488961&4294967295,V=O+(R<<14&4294967295|R>>>18),R=A+(O^b&(V^O))+M[4]+3889429448&4294967295,A=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(A^V))+M[9]+568446438&4294967295,b=A+(R<<5&4294967295|R>>>27),R=O+(A^V&(b^A))+M[14]+3275163606&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^A&(O^b))+M[3]+4107603335&4294967295,V=O+(R<<14&4294967295|R>>>18),R=A+(O^b&(V^O))+M[8]+1163531501&4294967295,A=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(A^V))+M[13]+2850285829&4294967295,b=A+(R<<5&4294967295|R>>>27),R=O+(A^V&(b^A))+M[2]+4243563512&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^A&(O^b))+M[7]+1735328473&4294967295,V=O+(R<<14&4294967295|R>>>18),R=A+(O^b&(V^O))+M[12]+2368359562&4294967295,A=V+(R<<20&4294967295|R>>>12),R=b+(A^V^O)+M[5]+4294588738&4294967295,b=A+(R<<4&4294967295|R>>>28),R=O+(b^A^V)+M[8]+2272392833&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^A)+M[11]+1839030562&4294967295,V=O+(R<<16&4294967295|R>>>16),R=A+(V^O^b)+M[14]+4259657740&4294967295,A=V+(R<<23&4294967295|R>>>9),R=b+(A^V^O)+M[1]+2763975236&4294967295,b=A+(R<<4&4294967295|R>>>28),R=O+(b^A^V)+M[4]+1272893353&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^A)+M[7]+4139469664&4294967295,V=O+(R<<16&4294967295|R>>>16),R=A+(V^O^b)+M[10]+3200236656&4294967295,A=V+(R<<23&4294967295|R>>>9),R=b+(A^V^O)+M[13]+681279174&4294967295,b=A+(R<<4&4294967295|R>>>28),R=O+(b^A^V)+M[0]+3936430074&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^A)+M[3]+3572445317&4294967295,V=O+(R<<16&4294967295|R>>>16),R=A+(V^O^b)+M[6]+76029189&4294967295,A=V+(R<<23&4294967295|R>>>9),R=b+(A^V^O)+M[9]+3654602809&4294967295,b=A+(R<<4&4294967295|R>>>28),R=O+(b^A^V)+M[12]+3873151461&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^A)+M[15]+530742520&4294967295,V=O+(R<<16&4294967295|R>>>16),R=A+(V^O^b)+M[2]+3299628645&4294967295,A=V+(R<<23&4294967295|R>>>9),R=b+(V^(A|~O))+M[0]+4096336452&4294967295,b=A+(R<<6&4294967295|R>>>26),R=O+(A^(b|~V))+M[7]+1126891415&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~A))+M[14]+2878612391&4294967295,V=O+(R<<15&4294967295|R>>>17),R=A+(O^(V|~b))+M[5]+4237533241&4294967295,A=V+(R<<21&4294967295|R>>>11),R=b+(V^(A|~O))+M[12]+1700485571&4294967295,b=A+(R<<6&4294967295|R>>>26),R=O+(A^(b|~V))+M[3]+2399980690&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~A))+M[10]+4293915773&4294967295,V=O+(R<<15&4294967295|R>>>17),R=A+(O^(V|~b))+M[1]+2240044497&4294967295,A=V+(R<<21&4294967295|R>>>11),R=b+(V^(A|~O))+M[8]+1873313359&4294967295,b=A+(R<<6&4294967295|R>>>26),R=O+(A^(b|~V))+M[15]+4264355552&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~A))+M[6]+2734768916&4294967295,V=O+(R<<15&4294967295|R>>>17),R=A+(O^(V|~b))+M[13]+1309151649&4294967295,A=V+(R<<21&4294967295|R>>>11),R=b+(V^(A|~O))+M[4]+4149444226&4294967295,b=A+(R<<6&4294967295|R>>>26),R=O+(A^(b|~V))+M[11]+3174756917&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~A))+M[2]+718787259&4294967295,V=O+(R<<15&4294967295|R>>>17),R=A+(O^(V|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+O&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const A=b-this.blockSize,M=this.C;let V=this.h,O=0;for(;O<b;){if(V==0)for(;O<=A;)u(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<b;)if(M[V++]=D.charCodeAt(O++),V==this.blockSize){u(this,M),V=0;break}}else for(;O<b;)if(M[V++]=D[O++],V==this.blockSize){u(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,A=0;A<4;++A)for(let M=0;M<32;M+=8)D[b++]=this.g[A]>>>M&255;return D};function h(D,b){var A=y;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=b(D)}function d(D,b){this.h=b;const A=[];let M=!0;for(let V=D.length-1;V>=0;V--){const O=D[V]|0;M&&O==b||(A[V]=O,M=!1)}this.g=A}var y={};function v(D){return-128<=D&&D<128?h(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return C;if(D<0)return $(_(-D));const b=[];let A=1;for(let M=0;D>=A;M++)b[M]=D/A|0,A*=4294967296;return new d(b,0)}function S(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return $(S(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(b,8));let M=C;for(let O=0;O<D.length;O+=8){var V=Math.min(8,D.length-O);const R=parseInt(D.substring(O,O+V),b);V<8?(V=_(Math.pow(b,V)),M=M.j(V).add(_(R))):(M=M.j(A),M=M.add(_(R)))}return M}var C=v(0),x=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-$(this).m();let D=0,b=1;for(let A=0;A<this.g.length;A++){const M=this.i(A);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(tt(this))return"-"+$(this).toString(D);const b=_(Math.pow(D,6));var A=this;let M="";for(;;){const V=qt(A,b).g;A=mt(A,V.j(b));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=V,J(A))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function tt(D){return D.h==-1}r.l=function(D){return D=mt(this,D),tt(D)?-1:J(D)?0:1};function $(D){const b=D.g.length,A=[];for(let M=0;M<b;M++)A[M]=~D.g[M];return new d(A,~D.h).add(x)}r.abs=function(){return tt(this)?$(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),A=[];let M=0;for(let V=0;V<=b;V++){let O=M+(this.i(V)&65535)+(D.i(V)&65535),R=(O>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=R>>>16,O&=65535,R&=65535,A[V]=R<<16|O}return new d(A,A[A.length-1]&-2147483648?-1:0)};function mt(D,b){return D.add($(b))}r.j=function(D){if(J(this)||J(D))return C;if(tt(this))return tt(D)?$(this).j($(D)):$($(this).j(D));if(tt(D))return $(this.j($(D)));if(this.l(P)<0&&D.l(P)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,A=[];for(var M=0;M<2*b;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<D.g.length;V++){const O=this.i(M)>>>16,R=this.i(M)&65535,bt=D.i(V)>>>16,Ht=D.i(V)&65535;A[2*M+2*V]+=R*Ht,vt(A,2*M+2*V),A[2*M+2*V+1]+=O*Ht,vt(A,2*M+2*V+1),A[2*M+2*V+1]+=R*bt,vt(A,2*M+2*V+1),A[2*M+2*V+2]+=O*bt,vt(A,2*M+2*V+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function vt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function ft(D,b){this.g=D,this.h=b}function qt(D,b){if(J(b))throw Error("division by zero");if(J(D))return new ft(C,C);if(tt(D))return b=qt($(D),b),new ft($(b.g),$(b.h));if(tt(b))return b=qt(D,$(b)),new ft($(b.g),b.h);if(D.g.length>30){if(tt(D)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=x,M=b;M.l(D)<=0;)A=Xt(A),M=Xt(M);var V=Ct(A,1),O=Ct(M,1);for(M=Ct(M,2),A=Ct(A,2);!J(M);){var R=O.add(M);R.l(D)<=0&&(V=V.add(A),O=R),M=Ct(M,1),A=Ct(A,1)}return b=mt(D,V.j(b)),new ft(V,b)}for(V=C;D.l(b)>=0;){for(A=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=_(A),R=O.j(b);tt(R)||R.l(D)>0;)A-=M,O=_(A),R=O.j(b);J(O)&&(O=x),V=V.add(O),D=mt(D,R)}return new ft(V,D)}r.B=function(D){return qt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)&D.i(M);return new d(A,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)|D.i(M);return new d(A,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<b;M++)A[M]=this.i(M)^D.i(M);return new d(A,this.h^D.h)};function Xt(D){const b=D.g.length+1,A=[];for(let M=0;M<b;M++)A[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(A,D.h)}function Ct(D,b){const A=b>>5;b%=32;const M=D.g.length-A,V=[];for(let O=0;O<M;O++)V[O]=b>0?D.i(O+A)>>>b|D.i(O+A+1)<<32-b:D.i(O+A);return new d(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,W_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Da=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t0,Bl,e0,Go,Kf,n0,i0,a0;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bo=="object"&&Bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function S(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function C(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,k){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[U].apply(T,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function P(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const k=U.length||0;o.length=p+k;for(let W=0;W<k;W++)o[p+W]=U[W]}else o.push(U)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(o){d.setTimeout(()=>{throw o},0)}function mt(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,p){const T=ft.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new tt(()=>new qt,o=>o.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Ct=!1,D=new vt,b=()=>{const o=Promise.resolve(void 0);Xt=()=>{o.then(A)}};function A(){for(var o;o=mt();){try{o.h.call(o.g)}catch(p){$(p)}var m=ft;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function bt(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}C(bt,V),bt.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ht="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ut(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ut(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Gt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function I(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let k=0;k<Y.length;k++)p=Y[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,U){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const W=At(o,m,T,U);return W>-1?(m=o[W],p||(m.fa=!1)):(m=new et(m,this.src,k,!!T,U),m.fa=p,o.push(m)),m};function gt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=U>=0)&&Array.prototype.splice.call(T,U,1),k&&(ut(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function At(o,m,p,T){for(let U=0;U<o.length;++U){const k=o[U];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Ce={};function ae(o,m,p,T,U){if(Array.isArray(m)){for(let k=0;k<m.length;k++)ae(o,m[k],p,T,U);return null}return p=zr(p),o&&o[Ht]?o.J(m,p,y(T)?!!T.capture:!1,U):ka(o,m,p,!1,T,U)}function ka(o,m,p,T,U,k){if(!m)throw Error("Invalid event type");const W=y(U)?!!U.capture:!!U;let Et=qa(o);if(Et||(o[Ot]=Et=new at(o)),p=Et.add(m,p,T,W,k),p.proxy)return p;if(T=ws(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)O||(U=W),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Xn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ws(){function o(p){return m.call(o.src,o.listener,p)}const m=Or;return o}function Cs(o,m,p,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)Cs(o,m[k],p,T,U);else T=y(T)?!!T.capture:!!T,p=zr(p),o&&o[Ht]?(o=o.i,k=String(m).toString(),k in o.g&&(m=o.g[k],p=At(m,p,T,U),p>-1&&(ut(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[k],o.h--)))):o&&(o=qa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=At(m,p,T,U)),(p=o>-1?m[o]:null)&&Ds(p))}function Ds(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ht])gt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Xn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=qa(m))?(gt(p,o),p.h==0&&(p.src=null,m[Ot]=null)):ut(o)}}}function Xn(o){return o in Ce?Ce[o]:Ce[o]="on"+o}function Or(o,m){if(o.da)o=!0;else{m=new bt(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Ds(o),o=p.call(T,m)}return o}function qa(o){return o=o[Ot],o instanceof at?o:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(o){return typeof o=="function"?o:(o[xr]||(o[xr]=function(m){return o.handleEvent(m)}),o[xr])}function ge(){M.call(this),this.i=new at(this),this.M=this,this.G=null}C(ge,M),ge.prototype[Ht]=!0,ge.prototype.removeEventListener=function(o,m,p,T){Cs(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var U=m;m=new V(T,o),nt(m,U)}U=!0;let k,W;if(p)for(W=p.length-1;W>=0;W--)k=m.g=p[W],U=Fi(k,T,!0,m)&&U;if(k=m.g=o,U=Fi(k,T,!0,m)&&U,U=Fi(k,T,!1,m)&&U,p)for(W=0;W<p.length;W++)k=m.g=p[W],U=Fi(k,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ut(p[T]);delete o.g[m],o.h--}}this.G=null},ge.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ge.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Fi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let k=0;k<m.length;++k){const W=m[k];if(W&&!W.da&&W.capture==p){const Et=W.listener,he=W.ha||W.src;W.fa&&gt(o.i,W),U=Et.call(he,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function ou(o){o.g=Vc(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(o){M.call(this),this.h=o,this.g={}}C(Pa,M);var Ur=[];function Lr(o){Ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ds(m)},o),o.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Lr(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=d.JSON.stringify,Nc=d.JSON.parse,cu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function hu(){}function fu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){V.call(this,"d")}C(Ue,V);function En(){V.call(this,"c")}C(En,V);var ce={},du=null;function Vs(){return du=du||new ge}ce.Ia="serverreachability";function mu(o){V.call(this,ce.Ia,o)}C(mu,V);function Kn(o){const m=Vs();De(m,new mu(m))}ce.STAT_EVENT="statevent";function Ha(o,m){V.call(this,ce.STAT_EVENT,o),this.stat=m}C(Ha,V);function pe(o){const m=Vs();De(m,new Ha(m,o))}ce.Ja="timingevent";function Zn(o,m){V.call(this,ce.Ja,o),this.size=m}C(Zn,V);function Jn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Ic(o,m,p,T,U,k){o.info(function(){if(o.g)if(k){var W="",Et=k.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");W=bn.length>=2&&bn[1]=="type"?W+(se+"="+he+"&"):W+(se+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function gu(o,m,p,T,U,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+k+" "+W})}function $n(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mc(o,p)+(T?" "+T:"")})}function Ga(o,m){o.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Mc(o,m){if(!o.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var p=k[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Yi(k)}catch{return m}}var Qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function Fa(){}C(Fa,hu),Fa.prototype.g=function(){return new XMLHttpRequest},Br=new Fa;function Si(o){return encodeURIComponent(String(o))}function pu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function jn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function Wn(o,m,p){o.M=1,o.A=Ya(ve(m)),o.u=p,o.R=!0,Ns(o,null)}function Ns(o,m){o.F=Date.now(),ti(o),o.B=ve(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),xs(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Bn,o.g=Iu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ze(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ur[0]=U.toString()),U=Ur);for(let k=0;k<U.length;k++){const W=ae(p,U[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.J?I(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Kn(),Ic(o.i,o.v,o.B,o.l,o.S,o.u)}jn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Pn(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const Et=Pn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?Kn(3):Kn(2)),ei(this);var m=this.g.ca();this.X=m;var p=Oc(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var k=T;break e}}k=null}if(o=k)$n(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,o);else{this.o=!1,this.m=3,pe(12),cn(this),Tn(this);break t}}if(this.R){o=!0;let se;for(;!this.K&&this.C<p.length;)if(se=_u(this,p),se==Me){Et==4&&(this.m=4,pe(14),o=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),$n(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else $n(this.i,this.l,se,null),ni(this,se);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)$n(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),tl(W),W.P=!0,pe(11))}}else $n(this.i,this.l,p,null),ni(this,p);Et==4&&cn(this),this.o&&!this.K&&(Et==4?Cu(this.j,this):(this.o=!1,ti(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),Tn(this)}}}catch{}};function Oc(o){if(!yu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=Pn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return cn(o),Tn(o),"";o.h.i=new d.TextDecoder}for(let k=0;k<T;k++)o.h.h=!0,p+=o.h.i.decode(m[k],{stream:!(U&&k==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function yu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function _u(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),o.C=T+p,m)))}jn.prototype.cancel=function(){this.K=!0,cn(this)};function ti(o){o.T=Date.now()+o.H,Is(o,o.H)}function Is(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Jn(_(o.aa,o),m)}function ei(o){o.D&&(d.clearTimeout(o.D),o.D=null)}jn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Kn(),pe(17)),cn(this),this.m=2,Tn(this)):Is(this,this.T-o)};function Tn(o){o.j.I==0||o.K||Cu(o.j,o)}function cn(o){ei(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Lr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ni(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ai(p.h,o))){if(!o.L&&ai(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Bs(p),ea(p);else break t;ts(p),pe(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Jn(_(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((o.L||p.g==o)&&Bs(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const se=Bt[0];if(!(se<=p.K))if(p.K=se,Bt=Bt[1],p.I==2)if(Bt[0]=="c"){p.M=Bt[1],p.ba=Bt[2];const bn=Bt[3];bn!=null&&(p.ka=bn,p.j.info("VER="+p.ka));const hi=Bt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const Hn=Bt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Gn=o.g;if(Gn){const es=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var k=T.h;k.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Pr(k,k.h),k.h=null))}if(T.G){const ks=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(T.wa=ks,Qt(T.J,T.G,ks))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=o;if(T.na=Nu(T,T.L?T.ba:null,T.W),W.L){Hr(T.h,W);var Et=W,he=T.O;he&&(Et.H=he),Et.D&&(ei(Et),ti(Et)),T.g=W}else Ru(T);p.i.length>0&&oi(p)}else Bt[0]!="stop"&&Bt[0]!="close"||ci(p,7);else p.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ci(p,7):$r(p):Bt[0]!="noop"&&p.l&&p.l.qa(Bt),p.A=0)}}Kn(4)}catch{}}var _e=class{constructor(o,m){this.g=o,this.map=m}};function kr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ii(o){return o.h?1:o.g?o.g.size:0}function ai(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Pr(o,m){o.g?o.g.add(m):o.h=m}function Hr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}kr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return P(o.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,k=null;T>=0?(U=o[p].substring(0,T),k=o[p].substring(T+1)):U=o[p],m(U,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function hn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof hn?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Xi(this,o.u),this.h=o.h,Qr(this,Su(o.i)),this.m=o.m):o&&(m=String(o).match(vu))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),Xi(this,m[4]),this.h=si(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}hn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Xa(m,Os,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Xa(m,Os,!0),"@"),o.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Xa(p,p.charAt(0)=="/"?Fr:Eu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Xa(p,Tu)),o.join("")},hn.prototype.resolve=function(o){const m=ve(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Xi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const k=[];for(let W=0;W<U.length;){const Et=U[W++];Et=="."?T&&W==U.length&&k.push(""):Et==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&W==U.length&&k.push("")):(k.push(Et),T=!0)}T=k.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Qr(m,Su(o.i)):p=!!o.m,p&&(m.m=o.m),m};function ve(o){return new hn(o)}function Oe(o,m,p){o.j=p?si(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Xi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Qr(o,m,p){m instanceof Zi?(o.i=m,zs(o.i,o.l)):(p||(m=Xa(m,Ki)),o.i=new Zi(m,o.l))}function Qt(o,m,p){o.i.set(m,p)}function Ya(o){return Qt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function si(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,We),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function We(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Os=/[#\/\?@]/g,Eu=/[#\?:]/g,Fr=/[#\?]/g,Ki=/[#\?@]/g,Tu=/#/g;function Zi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function tn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ms(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Zi.prototype,r.add=function(o,m){tn(this),this.i=null,o=Ji(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Au(o,m){tn(o),m=Ji(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Yr(o,m){return tn(o),m=Ji(o,m),o.g.has(m)}r.forEach=function(o,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Xr(o,m){tn(o);let p=[];if(typeof m=="string")Yr(o,m)&&(p=p.concat(o.g.get(Ji(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return tn(this),this.i=null,o=Ji(this,o),Yr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Xr(this,o),o.length>0?String(o[0]):m):m};function xs(o,m,p){Au(o,m),p.length>0&&(o.i=null,o.g.set(Ji(o,m),P(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Si(p);p=Xr(this,p);for(let k=0;k<p.length;k++){let W=U;p[k]!==""&&(W+="="+Si(p[k])),o.push(W)}}return this.i=o.join("&")};function Su(o){const m=new Zi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Ji(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function zs(o,m){m&&!o.j&&(tn(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Au(this,T),xs(this,U,p))},o)),o.j=m}function kn(o,m){const p=new Ln;if(d.Image){const T=new Image;T.onload=S(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(An,p,"TestLoadImage: error",!1,m,T),T.onabort=S(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(An,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Kr(o,m){const p=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(p,"TestPingServer: error",!1,m)})}function An(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function $i(){this.g=new cu}function ri(o){this.i=o.Sb||null,this.h=o.ab||!1}C(ri,hu),ri.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(o,m){ge.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Ka,ge),r=Ka.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,qn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Us(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Us(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Wi(this):qn(this),this.readyState==3&&Us(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,Wi(this))},r.Na=function(o){this.g&&(this.response=o,Wi(this))},r.ga=function(){this.g&&Wi(this)};function Wi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,qn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Sn(o){let m="";return Ut(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Za(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof o=="string"?p!=null&&Si(p):Qt(o,m,p))}function Kt(o){ge.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Kt,ge);var li=/^https?$/i,Zr=["POST","PUT"];r=Kt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){Ja(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Zr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){Ja(this,k)}};function Ja(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Jr(o),bi(o)}function Jr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},r.Xa=function(){$a(this)};function $a(o){if(o.h&&typeof h<"u"){if(o.v&&Pn(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),Pn(o)==4){o.h=!1;try{const k=o.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=k===0){let W=String(o.D).match(vu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!li.test(W?W.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var U=Pn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Jr(o)}}finally{bi(o)}}}}function bi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Nc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(o){const m={};o=(o.g&&Pn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=pu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[U]||[];m[U]=k,k.push(p)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ta(o){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,o),this.Za=ui("retryDelaySeedMs",1e4,o),this.Ta=ui("forwardChannelMaxRetries",2,o),this.va=ui("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(o&&o.concurrentRequestLimit),this.Ba=new $i,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ta.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){pe(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Nu(this,null,this.W),oi(this)};function $r(o){if(Ls(o),o.I==3){var m=o.V++,p=ve(o.J);if(Qt(p,"SID",o.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Wa(o,p),m=new jn(o,o.j,m),m.M=2,m.A=Ya(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Vu(o)}function ea(o){o.g&&(tl(o),o.g.cancel(),o.g=null)}function Ls(o){ea(o),o.v&&(d.clearTimeout(o.v),o.v=null),Bs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function oi(o){if(!qr(o.h)&&!o.m){o.m=!0;var m=o.Ea;Xt||b(),Ct||(Xt(),Ct=!0),D.add(m,o),o.D=0}}function js(o,m){return ii(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Jn(_(o.Ea,o,m),Du(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new jn(this,this.j,o);let k=this.o;if(this.U&&(k?(k=I(k),nt(k,this.U)):k=this.U),this.u!==null||this.R||(U.J=k,k=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bu(this,U,m),p=ve(this.J),Qt(p,"RID",o),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),Wa(this,p),k&&(this.R?m="headers="+Si(Sn(k))+"&"+m:this.u&&Za(p,this.u,k)),Pr(this.h,U),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),U.U=!0,Wn(U,p,null)):Wn(U,p,m),this.I=2}}else this.I==3&&(o?Wr(this,o):this.i.length==0||qr(this.h)||Wr(this))};function Wr(o,m){var p;m?p=m.l:p=o.V++;const T=ve(o.J);Qt(T,"SID",o.M),Qt(T,"RID",p),Qt(T,"AID",o.K),Wa(o,T),o.u&&o.o&&Za(T,o.u,o.o),p=new jn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=bu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Pr(o.h,p),Wn(p,T,m)}function Wa(o,m){o.H&&Ut(o.H,function(p,T){Qt(m,T,p)}),o.l&&Ut({},function(p,T){Qt(m,T,p)})}function bu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let Et=-1;for(;;){const he=["count="+p];Et==-1?p>0?(Et=U[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let se=0;se<p;se++){var k=U[se].g;const bn=U[se].map;if(k-=Et,k<0)Et=Math.max(0,U[se].g-100),Bt=!1;else try{k="req"+k+"_"||"";try{var W=bn instanceof Map?bn:Object.entries(bn);for(const[hi,Hn]of W){let Gn=Hn;y(Hn)&&(Gn=Yi(Hn)),he.push(k+hi+"="+encodeURIComponent(Gn))}}catch(hi){throw he.push(k+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(bn)}}if(Bt){W=he.join("&");break t}}W=void 0}return o=o.i.splice(0,p),m.G=o,W}function Ru(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Xt||b(),Ct||(Xt(),Ct=!0),D.add(m,o),o.A=0}}function ts(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Jn(_(o.Da,o),Du(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Jn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ea(this),wu(this))};function tl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function wu(o){o.g=new jn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ve(o.na);Qt(m,"RID","rpc"),Qt(m,"SID",o.M),Qt(m,"AID",o.K),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Qt(m,"TO",o.ia),Qt(m,"TYPE","xmlhttp"),Wa(o,m),o.u&&o.o&&Za(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ya(ve(m)),p.u=null,p.R=!0,Ns(p,o)}r.Va=function(){this.C!=null&&(this.C=null,ea(this),ts(this),pe(19))};function Bs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Cu(o,m){var p=null;if(o.g==m){Bs(o),tl(o),o.g=null;var T=2}else if(ai(o.h,m))p=m.G,Hr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=Vs(),De(T,new Zn(T,p)),oi(o)}else Ru(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&js(o,m)||T==2&&ts(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ci(o,5);break;case 4:ci(o,10);break;case 3:ci(o,6);break;default:ci(o,2)}}}function Du(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ci(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ya(T),U?kn(T.toString(),p):Kr(T.toString(),p)}else pe(2);o.I=0,o.l&&o.l.pa(m),Vu(o),Ls(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Vu(o){if(o.I=0,o.ja=[],o.l){const m=Gr(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ja,m),J(o.ja,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.oa()}}function Nu(o,m,p){var T=p instanceof hn?ve(p):new hn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const k=new hn(null);T&&Oe(k,T),m&&(k.g=m),U&&Xi(k,U),p&&(k.h=p),T=k}return p=o.G,m=o.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",o.ka),Wa(o,T),T}function Iu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Kt(new ri({ab:p})):new Kt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function na(){}na.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){ge.call(this),this.g=new ta(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new wi(this)}C(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){$r(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Yi(o),o=p);m.i.push(new _e(m.Ya++,o)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,Je.Z.N.call(this)};function Ou(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}C(Ou,Ue);function xu(){En.call(this),this.status=1}C(xu,En);function wi(o){this.g=o}C(wi,Mu),wi.prototype.ra=function(){De(this.g,"a")},wi.prototype.qa=function(o){De(this.g,new Ou(o))},wi.prototype.pa=function(o){De(this.g,new xu)},wi.prototype.oa=function(){De(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,a0=function(){return new na},i0=function(){return Vs()},n0=ce,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,Go=Qa,jr.COMPLETE="complete",e0=jr,fu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Bl=fu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,t0=Kt}).apply(typeof Bo<"u"?Bo:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Qy="4.9.3";class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Vr="12.7.0";const As=new Y_("@firebase/firestore");function pr(){return As.logLevel}function it(r,...e){if(As.logLevel<=zt.DEBUG){const i=e.map(yd);As.debug(`Firestore (${Vr}): ${r}`,...i)}}function Gi(r,...e){if(As.logLevel<=zt.ERROR){const i=e.map(yd);As.error(`Firestore (${Vr}): ${r}`,...i)}}function Ar(r,...e){if(As.logLevel<=zt.WARN){const i=e.map(yd);As.warn(`Firestore (${Vr}): ${r}`,...i)}}function yd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,s0(r,s,i)}function s0(r,e,i){let s=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function Pt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||s0(e,u,s)}function _t(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Dr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Va{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class r0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class MA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class OA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Va,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Va)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new r0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class xA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new xA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Fy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=LA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function Zf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return jf(u)===jf(h)?Nt(u,h):jf(u)?1:-1}return Nt(r.length,e.length)}const jA=55296,BA=57343;function jf(r){const e=r.charCodeAt(0);return e>=jA&&e<=BA}function Sr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const Yy="__name__";class pi{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=pi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=pi.isNumericId(e),u=pi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class ne extends pi{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends pi{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new He([Yy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(h(),u++)}if(h(),d)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ne.fromString(e))}static fromName(e){return new ct(ne.fromString(e).popFirst(5))}static empty(){return new ct(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ne(e.slice()))}}function l0(r,e,i){if(!i)throw new lt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qA(r,e,i,s){if(e===!0&&s===!0)throw new lt(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Xy(r){if(!ct.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ky(r){if(ct.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function u0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function xn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vd(r);throw new lt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!u0(r))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new lt(K.INVALID_ARGUMENT,i);return!0}const Zy=-62135596800,Jy=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jy);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new ie(0,0))}static max(){return new pt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function PA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Ia(u,ct.empty(),e)}function HA(r){return new Ia(r.readTime,r.key,Jl)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(pt.min(),ct.empty(),Jl)}static max(){return new Ia(pt.max(),ct.empty(),Jl)}}function GA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}const QA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==QA)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((u=>u?X.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===h&&s(d)}),(S=>u(S)))}}))}static doWhile(e,i){return new X(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function YA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ir(r){return r.name==="IndexedDbTransactionError"}class fc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fc.ce=-1;const Ed=-1;function dc(r){return r==null}function tc(r){return r===0&&1/r==-1/0}function XA(r){return typeof r=="number"&&Number.isInteger(r)&&!tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const o0="";function KA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=$y(e)),e=ZA(r.get(i),e);return $y(e)}function ZA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case o0:i+="";break;default:i+=h}}return i}function $y(r){return r+o0+""}function Wy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ja(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function c0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ko(this.root,e,this.comparator,!0)}}class ko{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=u??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Pe(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Pe.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new h0("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const JA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=JA.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}const f0="server_timestamp",d0="__type__",m0="__previous_value__",g0="__local_write_time__";function Td(r){return(r?.mapValue?.fields||{})[d0]?.stringValue===f0}function mc(r){const e=r.mapValue.fields[m0];return Td(e)?mc(e):e}function $l(r){const e=Ma(r.mapValue.fields[g0].timestampValue);return new ie(e.seconds,e.nanos)}class $A{constructor(e,i,s,u,h,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const ec="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const p0="__type__",WA="__max__",qo={mapValue:{}},y0="__vector__",nc="value";function xa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Td(r)?4:eS(r)?9007199254740991:tS(r)?10:11:dt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=xa(r);if(i!==xa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ma(u.timestampValue),y=Ma(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return Oa(u.bytesValue).isEqual(Oa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=me(u.doubleValue),y=me(h.doubleValue);return d===y?tc(d)===tc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Sr(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Wy(d)!==Wy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ti(d[v],y[v])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function br(r,e){if(r===e)return 0;const i=xa(r),s=xa(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return e_(r.timestampValue,e.timestampValue);case 4:return e_($l(r),$l(e));case 5:return Zf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Oa(h),v=Oa(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Nt(y[_],v[_]);if(S!==0)return S}return Nt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Nt(me(h.latitude),me(d.latitude));return y!==0?y:Nt(me(h.longitude),me(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return n_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[nc]?.arrayValue,S=v[nc]?.arrayValue,C=Nt(_?.values?.length||0,S?.values?.length||0);return C!==0?C:n_(_,S)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qo.mapValue&&d===qo.mapValue)return 0;if(h===qo.mapValue)return 1;if(d===qo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const x=Zf(v[C],S[C]);if(x!==0)return x;const P=br(y[v[C]],_[S[C]]);if(P!==0)return P}return Nt(v.length,S.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function e_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=Ma(r),s=Ma(e),u=Nt(i.seconds,s.seconds);return u!==0?u:Nt(i.nanos,s.nanos)}function n_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=br(i[u],s[u]);if(h)return h}return Nt(i.length,s.length)}function Rr(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ma(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Oa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Jf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Jf(i.fields[d])}`;return u+"}"})(r.mapValue):dt(61005,{value:r})}function Qo(r){switch(xa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+Qo(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Qo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return ja(s.fields,((h,d)=>{u+=h.length+Qo(d)})),u})(r.mapValue);default:throw dt(13486,{value:r})}}function $f(r){return!!r&&"integerValue"in r}function Ad(r){return!!r&&"arrayValue"in r}function i_(r){return!!r&&"nullValue"in r}function a_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fo(r){return!!r&&"mapValue"in r}function tS(r){return(r?.mapValue?.fields||{})[p0]?.stringValue===y0}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(r.arrayValue.values[i]);return e}return{...r}}function eS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WA}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=He.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Ql(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Fo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Fo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){ja(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new un(Ql(this.value))}}function _0(r){const e=[];return ja(r.fields,((i,s)=>{const u=new He([i]);if(Fo(s)){const h=_0(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new vn(e)}class Ke{constructor(e,i,s,u,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,pt.min(),pt.min(),pt.min(),un.empty(),0)}static newFoundDocument(e,i,s,u){return new Ke(e,1,i,pt.min(),s,u,0)}static newNoDocument(e,i){return new Ke(e,2,i,pt.min(),pt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,pt.min(),pt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ic{constructor(e,i){this.position=e,this.inclusive=i}}function s_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=br(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function r_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function nS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class v0{}class Ne extends v0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new aS(e,i,s):i==="array-contains"?new lS(e,s):i==="in"?new uS(e,s):i==="not-in"?new oS(e,s):i==="array-contains-any"?new cS(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new sS(e,s):new rS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(br(i,this.value)):i!==null&&xa(this.value)===xa(i)&&this.matchesComparison(br(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends v0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return E0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(r){return r.op==="and"}function T0(r){return iS(r)&&E0(r)}function iS(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function Wf(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Rr(r.value);if(T0(r))return r.filters.map((e=>Wf(e))).join(",");{const e=r.filters.map((i=>Wf(i))).join(",");return`${r.op}(${e})`}}function A0(r,e){return r instanceof Ne?(function(s,u){return u instanceof Ne&&s.op===u.op&&s.field.isEqual(u.field)&&Ti(s.value,u.value)})(r,e):r instanceof Ai?(function(s,u){return u instanceof Ai&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,y)=>h&&A0(d,u.filters[y])),!0):!1})(r,e):void dt(19439)}function S0(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(r):r instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(S0).join(" ,")+"}"})(r):"Filter"}class aS extends Ne{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class sS extends Ne{constructor(e,i){super(e,"in",i),this.keys=b0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rS extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=b0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function b0(r,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class lS extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&tu(i.arrayValue,this.value)}}class uS extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class oS extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class cS extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class hS{constructor(e,i=null,s=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function l_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new hS(r,e,i,s,u,h,d)}function Sd(r){const e=_t(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Wf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rr(s))).join(",")),e.Te=i}return e.Te}function bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!A0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r_(r.startAt,e.startAt)&&r_(r.endAt,e.endAt)}function td(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gc{constructor(e,i=null,s=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fS(r,e,i,s,u,h,d,y){return new gc(r,e,i,s,u,h,d,y)}function Rd(r){return new gc(r)}function u_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dS(r){return r.collectionGroup!==null}function Fl(r){const e=_t(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ac(h,s))})),i.has(He.keyField().canonicalString())||e.Ie.push(new ac(He.keyField(),s))}return e.Ie}function yi(r){const e=_t(r);return e.Ee||(e.Ee=mS(e,Fl(r))),e.Ee}function mS(r,e){if(r.limitType==="F")return l_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new ac(u.field,h)}));const i=r.endAt?new ic(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ic(r.startAt.position,r.startAt.inclusive):null;return l_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ed(r,e,i){return new gc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function pc(r,e){return bd(yi(r),yi(e))&&r.limitType===e.limitType}function R0(r){return`${Sd(yi(r))}|lt:${r.limitType}`}function yr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>S0(u))).join(", ")}]`),dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Rr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Rr(u))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function yc(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of Fl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=s_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Fl(s),u)||s.endAt&&!(function(d,y,v){const _=s_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Fl(s),u))})(r,e)}function gS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w0(r){return(e,i)=>{let s=!1;for(const u of Fl(r)){const h=pS(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function pS(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?br(v,_):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}class bs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}const yS=new le(ct.comparator);function Qi(){return yS}const C0=new le(ct.comparator);function kl(...r){let e=C0;for(const i of r)e=e.insert(i.key,i);return e}function D0(r){let e=C0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function vs(){return Yl()}function V0(){return Yl()}function Yl(){return new bs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _S=new le(ct.comparator),vS=new Ie(ct.comparator);function It(...r){let e=vS;for(const i of r)e=e.add(i);return e}const ES=new Ie(Nt);function TS(){return ES}function wd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function N0(r){return{integerValue:""+r}}function AS(r,e){return XA(e)?N0(e):wd(r,e)}class _c{constructor(){this._=void 0}}function SS(r,e,i){return r instanceof sc?(function(u,h){const d={fields:{[d0]:{stringValue:f0},[g0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Td(h)&&(h=mc(h)),h&&(d.fields[m0]=h),{mapValue:d}})(i,e):r instanceof eu?M0(r,e):r instanceof nu?O0(r,e):(function(u,h){const d=I0(u,h),y=o_(d)+o_(u.Ae);return $f(d)&&$f(u.Ae)?N0(y):wd(u.serializer,y)})(r,e)}function bS(r,e,i){return r instanceof eu?M0(r,e):r instanceof nu?O0(r,e):i}function I0(r,e){return r instanceof rc?(function(s){return $f(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class sc extends _c{}class eu extends _c{constructor(e){super(),this.elements=e}}function M0(r,e){const i=x0(e);for(const s of r.elements)i.some((u=>Ti(u,s)))||i.push(s);return{arrayValue:{values:i}}}class nu extends _c{constructor(e){super(),this.elements=e}}function O0(r,e){let i=x0(e);for(const s of r.elements)i=i.filter((u=>!Ti(u,s)));return{arrayValue:{values:i}}}class rc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o_(r){return me(r.integerValue||r.doubleValue)}function x0(r){return Ad(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function RS(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?Sr(s.elements,u.elements,Ti):s instanceof rc&&u instanceof rc?Ti(s.Ae,u.Ae):s instanceof sc&&u instanceof sc})(r.transform,e.transform)}class wS{constructor(e,i){this.version=e,this.transformResults=i}}class zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vc{}function z0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cd(r.key,zn.none()):new au(r.key,r.data,zn.none());{const i=r.data,s=un.empty();let u=new Ie(He.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Ba(r.key,s,new vn(u.toArray()),zn.none())}}function CS(r,e,i){r instanceof au?(function(u,h,d){const y=u.value.clone(),v=h_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ba?(function(u,h,d){if(!Yo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=h_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(U0(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Xl(r,e,i,s){return r instanceof au?(function(h,d,y,v){if(!Yo(h.precondition,d))return y;const _=h.value.clone(),S=f_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ba?(function(h,d,y,v){if(!Yo(h.precondition,d))return y;const _=f_(h.fieldTransforms,v,d),S=d.data;return S.setAll(U0(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(r,e,i,s):(function(h,d,y){return Yo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function DS(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=I0(s.transform,u||null);h!=null&&(i===null&&(i=un.empty()),i.set(s.field,h))}return i||null}function c_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Sr(s,u,((h,d)=>RS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends vc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ba extends vc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function U0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function h_(r,e,i){const s=new Map;Pt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);s.set(h.field,bS(d,y,i[u]))}return s}function f_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,SS(h,d,e))}return s}class Cd extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VS extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&CS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=V0();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=z0(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,s)=>c_(i,s)))&&Sr(this.baseMutations,e.baseMutations,((i,s)=>c_(i,s)))}}class Dd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return _S})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Dd(e,i,s,u)}}class IS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MS{constructor(e,i){this.count=e,this.unchangedNames=i}}var be,xt;function OS(r){switch(r){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function L0(r){if(r===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(r){case be.OK:return K.OK;case be.CANCELLED:return K.CANCELLED;case be.UNKNOWN:return K.UNKNOWN;case be.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case be.INTERNAL:return K.INTERNAL;case be.UNAVAILABLE:return K.UNAVAILABLE;case be.UNAUTHENTICATED:return K.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case be.NOT_FOUND:return K.NOT_FOUND;case be.ALREADY_EXISTS:return K.ALREADY_EXISTS;case be.PERMISSION_DENIED:return K.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case be.ABORTED:return K.ABORTED;case be.OUT_OF_RANGE:return K.OUT_OF_RANGE;case be.UNIMPLEMENTED:return K.UNIMPLEMENTED;case be.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:r})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function xS(){return new TextEncoder}const zS=new Da([4294967295,4294967295],0);function d_(r){const e=xS().encode(r),i=new W_;return i.update(e),new Uint8Array(i.digest())}function m_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,s],0),new Da([u,h],0)]}class Vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Da.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Da.fromNumber(s)));return u.compare(zS)===1&&(u=new Da([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d_(e),[s,u]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=d_(e),[s,u]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ec(pt.min(),u,new le(Nt),Qi(),It())}}class su{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new su(s,i,It(),It(),It())}}class Xo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class j0{constructor(e,i){this.targetId=e,this.Ce=i}}class B0{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),s=It();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:dt(38017,{changeType:h})}})),new su(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class US{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Po(),this.He=Po(),this.Ye=new le(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(td(h))if(s===0){const d=new ct(h.path);this.et(i,d,Ke.newNoDocument(d,pt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof h0)return Ar("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Vd(d,u,h)}catch(v){return Ar(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&td(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=It();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Ec(e,i,this.Ye,this.je,s);return this.je=Qi(),this.Je=Po(),this.He=Po(),this.Ye=new le(Nt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new g_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Po(){return new le(ct.comparator)}function p_(){return new le(ct.comparator)}const LS={asc:"ASCENDING",desc:"DESCENDING"},jS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BS={and:"AND",or:"OR"};class kS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||dc(e)?e:{value:e}}function lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qS(r,e){return lc(r,e.toTimestamp())}function _i(r){return Pt(!!r,49232),pt.fromTimestamp((function(i){const s=Ma(i);return new ie(s.seconds,s.nanos)})(r))}function Nd(r,e){return id(r,e).canonicalString()}function id(r,e){const i=(function(u){return new ne(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function q0(r){const e=ne.fromString(r);return Pt(F0(e),10190,{key:e.toString()}),e}function ad(r,e){return Nd(r.databaseId,e.path)}function Bf(r,e){const i=q0(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(H0(i))}function P0(r,e){return Nd(r.databaseId,e)}function PS(r){const e=q0(r);return e.length===4?ne.emptyPath():H0(e)}function sd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function H0(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function HS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Pt(S===void 0||typeof S=="string",58123),Ge.fromBase64String(S||"")):(Pt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ge.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?K.UNKNOWN:L0(_.code);return new lt(S,_.message||"")})(d);i=new B0(s,u,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):pt.min(),y=new un({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(u,h,d,y),_=s.targetIds||[],S=s.removedTargetIds||[];i=new Xo(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bf(r,s.document),h=s.readTime?_i(s.readTime):pt.min(),d=Ke.newNoDocument(u,h),y=s.removedTargetIds||[];i=new Xo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bf(r,s.document),h=s.removedTargetIds||[];i=new Xo([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new MS(u,h),y=s.targetId;i=new j0(y,d)}}return i}function GS(r,e){let i;if(e instanceof au)i={update:y_(r,e.key,e.value)};else if(e instanceof Cd)i={delete:ad(r,e.key)};else if(e instanceof Ba)i={update:y_(r,e.key,e.data),updateMask:WS(e.fieldMask)};else{if(!(e instanceof VS))return dt(16599,{Vt:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:qS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(r,e.precondition)),i}function QS(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?_i(u.updateTime):_i(h);return d.isEqual(pt.min())&&(d=_i(h)),new wS(d,u.transformResults||[])})(i,e)))):[]}function FS(r,e){return{documents:[P0(r,e.path)]}}function YS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=P0(r,u);const h=(function(_){if(_.length!==0)return Q0(Ai.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:_r(x.field),direction:ZS(x.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=nd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function XS(r){let e=PS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Pt(s===1,65062);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(C){const x=G0(C);return x instanceof Ai&&T0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((x=>(function(J){return new ac(vr(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let x;return x=typeof C=="object"?C.value:C,dc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(C){const x=!!C.before,P=C.values||[];return new ic(P,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(C){const x=!C.before,P=C.values||[];return new ic(P,x)})(i.endAt)),fS(e,u,d,h,y,"F",v,_)}function KS(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function G0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vr(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=vr(i.unaryFilter.field);return Ne.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vr(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vr(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(vr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((s=>G0(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function ZS(r){return LS[r]}function JS(r){return jS[r]}function $S(r){return BS[r]}function _r(r){return{fieldPath:r.canonicalString()}}function vr(r){return He.fromServerFormat(r.fieldPath)}function Q0(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NAN"}};if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NAN"}};if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(i.field),op:JS(i.op),value:i.value}}})(r):r instanceof Ai?(function(i){const s=i.getFilters().map((u=>Q0(u)));return s.length===1?s[0]:{compositeFilter:{op:$S(i.op),filters:s}}})(r):dt(54877,{filter:r})}function WS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function F0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ra{constructor(e,i,s,u,h=pt.min(),d=pt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class t2{constructor(e){this.yt=e}}function e2(r){const e=XS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ed(e,e.limit,"L"):e}class n2{constructor(){this.Cn=new i2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ia.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class i2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ie(ne.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ie(ne.comparator)).toArray()}}const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Y0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wr(0)}static cr(){return new wr(-1)}}const v_="LruGarbageCollector",a2=1048576;function E_([r,e],[i,s]){const u=Nt(r,i);return u===0?Nt(e,s):u}class s2{constructor(e){this.Ir=e,this.buffer=new Ie(E_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();E_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class r2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ir(i)?it(v_,"Ignoring IndexedDB error during garbage collection: ",i):await Nr(i)}await this.Vr(3e5)}))}}class l2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(fc.ce);const s=new s2(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(__)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u)))).next((C=>(s=C,y=Date.now(),this.removeTargets(e,s,i)))).next((C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(_=Date.now(),pr()<=zt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C}))))}}function u2(r,e){return new l2(r,e)}class o2{constructor(){this.changes=new bs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class h2{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Xl(s.mutation,u,vn.empty(),ie.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,It()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=It()){const u=vs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=kl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=vs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,It())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let h=Qi();const d=Yl(),y=(function(){return Yl()})();return i.forEach(((v,_)=>{const S=s.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof Ba)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Xl(S.mutation,_,S.mutation.getFieldMask(),ie.now())):d.set(_.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new c2(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Yl();let u=new le(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=s.get(v)||vn.empty();S=y.applyToLocalView(_,S),s.set(v,S);const C=(u.get(y.batchId)||It()).add(v);u=u.insert(y.batchId,C)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,C=V0();S.forEach((x=>{if(!h.has(x)){const P=z0(i.get(x),s.get(x));P!==null&&C.set(x,P),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):X.resolve(vs());let y=Jl,v=h;return d.next((_=>X.forEach(_,((S,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((x=>{v=v.insert(S,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((S=>({batchId:y,changes:D0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((s=>{let u=kl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(v=>{const _=(function(C,x){return new gc(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((S=>{S.forEach(((C,x)=>{d=d.insert(C,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ke.newInvalidDocument(S)))}));let y=kl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Xl(S.mutation,_,vn.empty(),ie.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}class f2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:e2(u.bundledQuery),readTime:_i(u.readTime)}})(i)),X.resolve()}}class d2{constructor(){this.overlays=new le(ct.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=vs();return X.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const u=vs(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new le(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=h.get(_.largestBatchId);S===null&&(S=vs(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=vs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=u)););return X.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new IS(i,s));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class m2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Id{constructor(){this.Qr=new Ie(ze.$r),this.Ur=new Ie(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ct(new ne([])),s=new ze(i,e),u=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new ne([])),s=new ze(i,e),u=new ze(i,e+1);let h=It();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class g2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(ze.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NS(h,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ed:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Nt);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ct(h),0);let y=new Ie(Nt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class p2{constructor(e){this.ri=e,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ke.newInvalidDocument(u))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Qi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||GA(HA(S),s)<=0||(u.has(S.key)||yc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,u){dt(9500)}ii(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new y2(this)}getSize(e){return X.resolve(this.size)}}class y2 extends o2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class _2{constructor(e){this.persistence=e,this.si=new bs((i=>Sd(i)),bd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=wr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class X0{constructor(e,i){this.ui={},this.overlays={},this.ci=new fc(0),this.li=!1,this.li=!0,this.hi=new m2,this.referenceDelegate=e(this),this.Pi=new _2(this),this.indexManager=new n2,this.remoteDocumentCache=(function(u){return new p2(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new t2(i),this.Ii=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new d2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new g2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new v2(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class v2 extends FA{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new Id,this.Vi=null}static mi(e){return new Md(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const u=ct.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,pt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new bs((s=>KA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=u2(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?X.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,pt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qo(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Od{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Od(e,i.fromCache,s,u)}}class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class T2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hT()?8:YA(oT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new E2;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(pr()<=zt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",yr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(pr()<=zt.DEBUG&&it("QueryEngine","Query:",yr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(pr()<=zt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",yr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):X.resolve())}ys(e,i){if(u_(i))return X.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=ed(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return u_(i)||u.isEqual(pt.min())?X.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?X.resolve(null):(pr()<=zt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),yr(i)),this.vs(e,d,i,PA(u,Jl)).next((y=>y)))}))}Ds(e,i){let s=new Ie(w0(e));return i.forEach(((u,h)=>{yc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return pr()<=zt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",yr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ia.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const xd="LocalStore",A2=3e8;class S2{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new le(Nt),this.xs=new bs((h=>Sd(h)),bd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function b2(r,e,i,s){return new S2(r,e,i,s)}async function K0(r,e){const i=_t(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=It();for(const _ of u){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function R2(r,e){const i=_t(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const C=_.batch,x=C.keys();let P=X.resolve();return x.forEach((J=>{P=P.next((()=>S.getEntry(v,J))).next((tt=>{const $=_.docVersions.get(J);Pt($!==null,48541),tt.version.compareTo($)<0&&(C.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))}))})),P.next((()=>y.mutationQueue.removeMutationBatch(v,C)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function Z0(r){const e=_t(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function w2(r,e){const i=_t(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((S,C)=>{const x=u.get(C);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,C))));let P=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?P=P.withResumeToken(Ge.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):S.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(S.resumeToken,s)),u=u.insert(C,P),(function(tt,$,mt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=A2?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(x,P,S)&&y.push(i.Pi.updateTargetData(h,P))}));let v=Qi(),_=It();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(C2(h,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!s.isEqual(pt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(S)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function C2(r,e,i){let s=It(),u=It();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Qi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(xd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function D2(r,e){const i=_t(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function V2(r,e){const i=_t(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,X.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Ra(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function rd(r,e,i){const s=_t(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ir(d))throw d;it(xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function T_(r,e,i){const s=_t(r);let u=pt.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const C=_t(v),x=C.xs.get(S);return x!==void 0?X.resolve(C.Ms.get(x)):C.Pi.getTargetData(_,S)})(s,d,yi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:It()))).next((y=>(N2(s,gS(e),y),{documents:y,Qs:h})))))}function N2(r,e,i){let s=r.Os.get(e)||pt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class A_{constructor(){this.activeTargetIds=TS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I2{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class M2{Oo(e){}shutdown(){}}const S_="ConnectivityMonitor";class b_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(S_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ho=null;function ld(){return Ho===null?Ho=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ho++,"0x"+Ho.toString(16)}const kf="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===ec?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=ld(),y=this.zo(e,i.toUriEncodedString());it(kf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),S=gd(_);return this.Jo(e,y,v,s,S).then((C=>(it(kf,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw Ar(kf,`RPC '${e}' ${d} failed with error: `,C,"url: ",y,"request:",s),C}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=O2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class z2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Fe="WebChannelConnection";class U2 extends x2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ld();return new Promise(((y,v)=>{const _=new t0;_.setWithCredentials(!0),_.listenOnce(e0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Go.NO_ERROR:const C=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),y(C);break;case Go.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const x=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P?.error;if(J&&J.status&&J.message){const tt=(function(mt){const vt=mt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN})(J.status);v(new lt(tt,J.message))}else v(new lt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(u);it(Fe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",S,s,15)}))}T_(e,i,s){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=a0(),y=i0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const S=h.join("");it(Fe,`Creating RPC '${e}' stream ${u}: ${S}`,v);const C=d.createWebChannel(S,v);this.I_(C);let x=!1,P=!1;const J=new z2({Yo:$=>{P?it(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(x||(it(Fe,`Opening RPC '${e}' stream ${u} transport.`),C.open(),x=!0),it(Fe,`RPC '${e}' stream ${u} sending:`,$),C.send($))},Zo:()=>C.close()}),tt=($,mt,vt)=>{$.listen(mt,(ft=>{try{vt(ft)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return tt(C,Bl.EventType.OPEN,(()=>{P||(it(Fe,`RPC '${e}' stream ${u} transport opened.`),J.o_())})),tt(C,Bl.EventType.CLOSE,(()=>{P||(P=!0,it(Fe,`RPC '${e}' stream ${u} transport closed`),J.a_(),this.E_(C))})),tt(C,Bl.EventType.ERROR,($=>{P||(P=!0,Ar(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),tt(C,Bl.EventType.MESSAGE,($=>{if(!P){const mt=$.data[0];Pt(!!mt,16349);const vt=mt,ft=vt?.error||vt[0]?.error;if(ft){it(Fe,`RPC '${e}' stream ${u} received error:`,ft);const qt=ft.status;let Xt=(function(b){const A=be[b];if(A!==void 0)return L0(A)})(qt),Ct=ft.message;Xt===void 0&&(Xt=K.INTERNAL,Ct="Unknown error status: "+qt+" with message "+ft.message),P=!0,J.a_(new lt(Xt,Ct)),C.close()}else it(Fe,`RPC '${e}' stream ${u} received:`,mt),J.u_(mt)}})),tt(y,n0.STAT_EVENT,($=>{$.stat===Kf.PROXY?it(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Kf.NOPROXY&&it(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function qf(){return typeof document<"u"?document:null}function Tc(r){return new kS(r,!0)}class J0{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const R_="PersistentStream";class $0{constructor(e,i,s,u,h,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new lt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L2 extends $0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=HS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?_i(d.readTime):pt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=td(v)?{documents:FS(h,v)}:{query:YS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=k0(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){y.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=KS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class j2 extends $0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QS(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>GS(this.serializer,s)))};this.q_(i)}}class B2{}class k2 extends B2{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(K.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,id(i,s),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class P2{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Rs(this)&&(it(Ss,"Restarting streams for network reachability change."),await(async function(v){const _=_t(v);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Ra=new q2(s,u)}}async function Ac(r){if(Rs(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function W0(r,e){const i=_t(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jd(i)?Ld(i):Mr(i).O_()&&Ud(i,e))}function zd(r,e){const i=_t(r),s=Mr(i);i.Ia.delete(e),s.O_()&&tv(i,e),i.Ia.size===0&&(s.O_()?s.L_():Rs(i)&&i.Ra.set("Unknown"))}function Ud(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(r).Y_(e)}function tv(r,e){r.Va.Ue(e),Mr(r).Z_(e)}function Ld(r){r.Va=new US({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mr(r).start(),r.Ra.ua()}function jd(r){return Rs(r)&&!Mr(r).x_()&&r.Ia.size>0}function Rs(r){return _t(r).Ea.size===0}function ev(r){r.Va=void 0}async function H2(r){r.Ra.set("Online")}async function G2(r){r.Ia.forEach(((e,i)=>{Ud(r,e)}))}async function Q2(r,e){ev(r),jd(r)?(r.Ra.ha(e),Ld(r)):r.Ra.set("Unknown")}async function F2(r,e,i){if(r.Ra.set("Online"),e instanceof B0&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){it(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oc(r,s)}else if(e instanceof Xo?r.Va.Ze(e):e instanceof j0?r.Va.st(e):r.Va.tt(e),!i.isEqual(pt.min()))try{const s=await Z0(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Ge.EMPTY_BYTE_STRING,S.snapshotVersion)),tv(h,v);const C=new Ra(S.target,v,_,S.sequenceNumber);Ud(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(Ss,"Failed to raise snapshot:",s),await oc(r,s)}}async function oc(r,e,i){if(!Ir(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>Z0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ss,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ac(r)}))}function nv(r,e){return e().catch((i=>oc(r,i,e)))}async function Sc(r){const e=_t(r),i=za(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ed;for(;Y2(e);)try{const u=await D2(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,X2(e,u)}catch(u){await oc(e,u)}iv(e)&&av(e)}function Y2(r){return Rs(r)&&r.Ta.length<10}function X2(r,e){r.Ta.push(e);const i=za(r);i.O_()&&i.X_&&i.ea(e.mutations)}function iv(r){return Rs(r)&&!za(r).x_()&&r.Ta.length>0}function av(r){za(r).start()}async function K2(r){za(r).ra()}async function Z2(r){const e=za(r);for(const i of r.Ta)e.ea(i.mutations)}async function J2(r,e,i){const s=r.Ta.shift(),u=Dd.from(s,e,i);await nv(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Sc(r)}async function $2(r,e){e&&za(r).X_&&await(async function(s,u){if((function(d){return OS(d)&&d!==K.ABORTED})(u.code)){const h=s.Ta.shift();za(s).B_(),await nv(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Sc(s)}})(r,e),iv(r)&&av(r)}async function w_(r,e){const i=_t(r);i.asyncQueue.verifyOperationInProgress(),it(Ss,"RemoteStore received new credentials");const s=Rs(i);i.Ea.add(3),await ru(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function W2(r,e){const i=_t(r);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Mr(r){return r.ma||(r.ma=(function(i,s,u){const h=_t(i);return h.sa(),new L2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:H2.bind(null,r),t_:G2.bind(null,r),r_:Q2.bind(null,r),H_:F2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),jd(r)?Ld(r):r.Ra.set("Unknown")):(await r.ma.stop(),ev(r))}))),r.ma}function za(r){return r.fa||(r.fa=(function(i,s,u){const h=_t(i);return h.sa(),new j2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:K2.bind(null,r),r_:$2.bind(null,r),ta:Z2.bind(null,r),na:J2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Sc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ss,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,y=new Bd(e,i,d,u,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),Ir(r))return new lt(K.UNAVAILABLE,`${e}: ${r}`);throw r}class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Tr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class C_{constructor(){this.ga=new le(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Cr{constructor(e,i,s,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cr(e,i,Tr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class tb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eb{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=_t(i),h=u.queries;u.queries=D_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function D_(){return new bs((r=>R0(r)),pc)}async function sv(r,e){const i=_t(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new tb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=kd(d,`Initialization of query '${yr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function rv(r,e){const i=_t(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function nb(r,e){const i=_t(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&qd(i)}function ib(r,e,i){const s=_t(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function qd(r){r.Ca.forEach((e=>{e.next()}))}var ud,V_;(V_=ud||(ud={})).Ma="default",V_.Cache="cache";class lv{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}class uv{constructor(e){this.key=e}}class ov{constructor(e){this.key=e}}class ab{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=w0(e),this.tu=new Tr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new C_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((S,C)=>{const x=u.get(S),P=yc(this.query,C)?C:null,J=!!x&&this.mutatedKeys.has(x.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;x&&P?x.data.isEqual(P.data)?J!==tt&&(s.track({type:3,doc:P}),$=!0):this.su(x,P)||(s.track({type:2,doc:P}),$=!0,(v&&this.eu(P,v)>0||_&&this.eu(P,_)<0)&&(y=!0)):!x&&P?(s.track({type:0,doc:P}),$=!0):x&&!P&&(s.track({type:1,doc:x}),$=!0,(v||_)&&(y=!0)),$&&(P?(d=d.add(P),h=tt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,C)=>(function(P,J){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:$})}};return tt(P)-tt(J)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new ov(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new uv(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pd="SyncEngine";class sb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class rb{constructor(e){this.key=e,this.hu=!1}}class lb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new bs((y=>R0(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new le(ct.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ub(r,e,i=!0){const s=gv(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await cv(s,e,i,!0),u}async function ob(r,e){const i=gv(r);await cv(i,e,!0,!1)}async function cv(r,e,i,s){const u=await V2(r.localStore,yi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await cb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&W0(r.remoteStore,u),y}async function cb(r,e,i,s,u){r.pu=(C,x,P)=>(async function(tt,$,mt,vt){let ft=$.view.ru(mt);ft.Cs&&(ft=await T_(tt.localStore,$.query,!1).then((({documents:D})=>$.view.ru(D,ft))));const qt=vt&&vt.targetChanges.get($.targetId),Xt=vt&&vt.targetMismatches.get($.targetId)!=null,Ct=$.view.applyChanges(ft,tt.isPrimaryClient,qt,Xt);return I_(tt,$.targetId,Ct.au),Ct.snapshot})(r,C,x,P);const h=await T_(r.localStore,e,!0),d=new ab(e,h.Qs),y=d.ru(h.documents),v=su.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);I_(r,i,_.au);const S=new sb(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function hb(r,e,i){const s=_t(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!pc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await rd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&zd(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Nr)):(od(s,u.targetId),await rd(s.localStore,u.targetId,!0))}async function fb(r,e){const i=_t(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zd(i.remoteStore,s.targetId))}async function db(r,e,i){const s=Eb(r);try{const u=await(function(d,y){const v=_t(d),_=ie.now(),S=y.reduce(((P,J)=>P.add(J.key)),It());let C,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=Qi(),tt=It();return v.Ns.getEntries(P,S).next(($=>{J=$,J.forEach(((mt,vt)=>{vt.isValidDocument()||(tt=tt.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,J))).next(($=>{C=$;const mt=[];for(const vt of y){const ft=DS(vt,C.get(vt.key).overlayedDocument);ft!=null&&mt.push(new Ba(vt.key,ft,_0(ft.value.mapValue),zn.exists(!0)))}return v.mutationQueue.addMutationBatch(P,_,mt,y)})).next(($=>{x=$;const mt=$.applyToLocalDocumentSet(C,tt);return v.documentOverlayCache.saveOverlays(P,$.batchId,mt)}))})).then((()=>({batchId:x.batchId,changes:D0(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await lu(s,u.changes),await Sc(s.remoteStore)}catch(u){const h=kd(u,"Failed to persist write");i.reject(h)}}async function hv(r,e){const i=_t(r);try{const s=await w2(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Pt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Pt(d.hu,14607):u.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await lu(i,s,e)}catch(s){await Nr(s)}}function N_(r,e,i){const s=_t(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=_t(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,C)=>{for(const x of C.Sa)x.va(y)&&(_=!0)})),_&&qd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mb(r,e,i){const s=_t(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new le(ct.comparator);d=d.insert(h,Ke.newNoDocument(h,pt.min()));const y=It().add(h),v=new Ec(pt.min(),new Map,new le(Nt),d,y);await hv(s,v),s.du=s.du.remove(h),s.Au.delete(e),Hd(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Nr)}async function gb(r,e){const i=_t(r),s=e.batch.batchId;try{const u=await R2(i.localStore,e);dv(i,s,null),fv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lu(i,u)}catch(u){await Nr(u)}}async function pb(r,e,i){const s=_t(r);try{const u=await(function(d,y){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((C=>(Pt(C!==null,37113),S=C.keys(),v.mutationQueue.removeMutationBatch(_,C)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);dv(s,e,i),fv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lu(s,u)}catch(u){await Nr(u)}}function fv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function dv(r,e,i){const s=_t(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||mv(r,s)}))}function mv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(zd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Hd(r))}function I_(r,e,i){for(const s of i)s instanceof uv?(r.Ru.addReference(s.key,e),yb(r,s)):s instanceof ov?(it(Pd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||mv(r,s.key)):dt(19791,{wu:s})}function yb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Pd,"New document in limbo: "+i),r.Eu.add(s),Hd(r))}function Hd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new rb(i)),r.du=r.du.insert(i,s),W0(r.remoteStore,new Ra(yi(Rd(i.path)),s,"TargetPurposeLimboResolution",fc.ce))}}async function lu(r,e,i){const s=_t(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=Od.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const S=_t(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>X.forEach(_,(x=>X.forEach(x.Es,(P=>S.persistence.referenceDelegate.addReference(C,x.targetId,P))).next((()=>X.forEach(x.ds,(P=>S.persistence.referenceDelegate.removeReference(C,x.targetId,P)))))))))}catch(C){if(!Ir(C))throw C;it(xd,"Failed to update sequence numbers: "+C)}for(const C of _){const x=C.targetId;if(!C.fromCache){const P=S.Ms.get(x),J=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(x,tt)}}})(s.localStore,h))}async function _b(r,e){const i=_t(r);if(!i.currentUser.isEqual(e)){it(Pd,"User change. New user:",e.toKey());const s=await K0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new lt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(i,s.Ls)}}function vb(r,e){const i=_t(r),s=i.Au.get(e);if(s&&s.hu)return It().add(s.key);{let u=It();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function gv(r){const e=_t(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mb.bind(null,e),e.Pu.H_=nb.bind(null,e.eventManager),e.Pu.yu=ib.bind(null,e.eventManager),e}function Eb(r){const e=_t(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pb.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return b2(this.persistence,new T2,e.initialUser,this.serializer)}Cu(e){return new X0(Md.mi,this.serializer)}Du(e){return new I2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class Tb extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new X0((s=>uc.mi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_b.bind(null,this.syncEngine),await W2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eb})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),s=(function(h){return new U2(h)})(e.databaseInfo);return(function(h,d,y,v){return new k2(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,y){return new P2(s,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>N_(this.syncEngine,i,0)),(function(){return b_.v()?new b_:new M2})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,S){const C=new lb(u,h,d,y,v,_);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=_t(i);it(Ss,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};class pv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ua="FirestoreClient";class Ab{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(Ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pf(r,e){r.asyncQueue.verifyOperationInProgress(),it(Ua,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await K0(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function M_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Sb(r);it(Ua,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>w_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>w_(e.remoteStore,u))),r._onlineComponents=e}async function Sb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ua,"Using user provided OfflineComponentProvider");try{await Pf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Ar("Error using user provided cache. Falling back to memory cache: "+i),await Pf(r,new cc)}}else it(Ua,"Using default OfflineComponentProvider"),await Pf(r,new Tb(void 0));return r._offlineComponents}async function yv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ua,"Using user provided OnlineComponentProvider"),await M_(r,r._uninitializedComponentsProvider._online)):(it(Ua,"Using default OnlineComponentProvider"),await M_(r,new cd))),r._onlineComponents}function bb(r){return yv(r).then((e=>e.syncEngine))}async function hd(r){const e=await yv(r),i=e.eventManager;return i.onListen=ub.bind(null,e.syncEngine),i.onUnlisten=hb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fb.bind(null,e.syncEngine),i}function Rb(r,e,i={}){const s=new Va;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const S=new pv({next:x=>{S.Nu(),d.enqueueAndForget((()=>rv(h,C))),x.fromCache&&v.source==="server"?_.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),C=new lv(y,S,{includeMetadataChanges:!0,qa:!0});return sv(h,C)})(await hd(r),r.asyncQueue,e,i,s))),s.promise}function _v(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const O_=new Map;const vv="firestore.googleapis.com",x_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vv,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a2)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IA;switch(s.type){case"firstParty":return new zA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=O_.get(i);s&&(it("ComponentProvider","Removing Datastore"),O_.delete(i),s.terminate())})(this),Promise.resolve()}}function wb(r,e,i,s={}){r=xn(r,bc);const u=gd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(aT(`https://${y}`),uT("Firestore",!0)),h.host!==vv&&h.host!==y&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:s};if(!Jo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Xe.MOCK_USER;else{_=sT(s.mockUserToken,r._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(C)}r._authCredentials=new MA(new r0(_,S))}}class uu{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,we._jsonSchema))return new we(e,s||null,new ct(ne.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Re("string",we._jsonSchemaVersion),referencePath:Re("string")};class Na extends uu{constructor(e,i,s){super(e,i,Rd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new ct(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function Hf(r,e,...i){if(r=Pi(r),l0("collection","path",e),r instanceof bc){const s=ne.fromString(e,...i);return Ky(s),new Na(r,null,s)}{if(!(r instanceof we||r instanceof Na))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Ky(s),new Na(r.firestore,null,s)}}function Pl(r,e,...i){if(r=Pi(r),arguments.length===1&&(e=_d.newId()),l0("doc","path",e),r instanceof bc){const s=ne.fromString(e,...i);return Xy(s),new we(r,null,new ct(s))}{if(!(r instanceof we||r instanceof Na))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Xy(s),new we(r.firestore,r instanceof Na?r.converter:null,new ct(s))}}const U_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J0(this,"async_queue_retry"),this._c=()=>{const s=qf();s&&it(U_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ir(e))throw e;it(U_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",j_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Bd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&dt(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function j_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function B_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1})(r,["next","error","complete"])}class La extends bc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new L_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function Cb(r,e){const i=typeof r=="object"?r:_A(),s=typeof r=="string"?r:ec,u=dA(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=nT("firestore");h&&wb(u,...h)}return u}function Gd(r){if(r._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Db(r),r._firestoreClient}function Db(r){const e=r._freezeSettings(),i=(function(u,h,d,y){return new $A(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,_v(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ab(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ge.fromBase64String(e))}catch(i){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};class Rc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._methodName=e}}class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Re("string",vi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Re("string",Ei._jsonSchemaVersion),vectorValues:Re("object")};const Vb=/^__.*__$/;class Nb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class Ev{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Tv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class Fd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tv(this.Ac)&&Vb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ib{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Tc(e)}Cc(e,i,s,u=!1){return new Fd({Ac:e,methodName:i,Dc:s,path:He.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(r){const e=r._freezeSettings(),i=Tc(r._databaseId);return new Ib(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Av(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);Xd("Data must be an object, but it was:",d,s);const y=Sv(s,d);let v,_;if(h.merge)v=new vn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const C of h.mergeFields){const x=fd(e,C,i);if(!d.contains(x))throw new lt(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Rv(S,x)||S.push(x)}v=new vn(S),_=d.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,_=d.fieldTransforms;return new Nb(new un(y),v,_)}class wc extends Qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function Mb(r,e,i,s){const u=r.Cc(1,e,i);Xd("Data must be an object, but it was:",u,s);const h=[],d=un.empty();ja(s,((v,_)=>{const S=Kd(e,v,i);_=Pi(_);const C=u.yc(S);if(_ instanceof wc)h.push(S);else{const x=Cc(_,C);x!=null&&(h.push(S),d.set(S,x))}}));const y=new vn(h);return new Ev(d,y,u.fieldTransforms)}function Ob(r,e,i,s,u,h){const d=r.Cc(1,e,i),y=[fd(e,s,i)],v=[u];if(h.length%2!=0)throw new lt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)y.push(fd(e,h[x])),v.push(h[x+1]);const _=[],S=un.empty();for(let x=y.length-1;x>=0;--x)if(!Rv(_,y[x])){const P=y[x];let J=v[x];J=Pi(J);const tt=d.yc(P);if(J instanceof wc)_.push(P);else{const $=Cc(J,tt);$!=null&&(_.push(P),S.set(P,$))}}const C=new vn(_);return new Ev(S,C,d.fieldTransforms)}function Cc(r,e){if(bv(r=Pi(r)))return Xd("Unsupported field value:",e,r),Sv(r,e);if(r instanceof Qd)return(function(s,u){if(!Tv(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const y of s){let v=Cc(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=Pi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ie.fromDate(s);return{timestampValue:lc(u.serializer,h)}}if(s instanceof ie){const h=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(u.serializer,h)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:k0(u.serializer,s._byteString)};if(s instanceof we){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,y){return{mapValue:{fields:{[p0]:{stringValue:y0},[nc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return wd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${vd(s)}`)})(r,e)}function Sv(r,e){const i={};return c0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,((s,u)=>{const h=Cc(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function bv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof vi||r instanceof On||r instanceof we||r instanceof Qd||r instanceof Ei)}function Xd(r,e,i){if(!bv(i)||!u0(i)){const s=vd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function fd(r,e,i){if((e=Pi(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return Kd(r,e);throw hc("Field path arguments must be of type string or ",r,!1,void 0,i)}const xb=new RegExp("[~\\*/\\[\\]]");function Kd(r,e,i){if(e.search(xb)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rc(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new lt(K.INVALID_ARGUMENT,y+r+v)}function Rv(r,e){return r.some((i=>i.isEqual(e)))}class wv{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Cv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zb extends wv{data(){return super.data()}}function Cv(r,e){return typeof e=="string"?Kd(r,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function Dv(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{convertValue(e,i="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ja(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[nc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=mc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Ma(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Pt(F0(s),9688,{name:e});const u=new Wl(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return u.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function Vv(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends wv{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Cv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Es._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:Re("string",Es._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ko extends Es{data(e={}){return super.data(e)}}class Ts{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ko(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Ko(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Ko(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:Lb(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:Re("string",Ts._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class Zd extends Ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function jb(r){r=xn(r,uu);const e=xn(r.firestore,La),i=Gd(e),s=new Zd(e);return Dv(r._query),Rb(i,r._query).then((u=>new Ts(e,s,r,u)))}function Bb(r,e,i){r=xn(r,we);const s=xn(r.firestore,La),u=Vv(r.converter,e,i);return Dc(s,[Av(Yd(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,zn.none())])}function kb(r,e,i,...s){r=xn(r,we);const u=xn(r.firestore,La),h=Yd(u);let d;return d=typeof(e=Pi(e))=="string"||e instanceof Rc?Ob(h,"updateDoc",r._key,e,i,s):Mb(h,"updateDoc",r._key,e),Dc(u,[d.toMutation(r._key,zn.exists(!0))])}function qb(r){return Dc(xn(r.firestore,La),[new Cd(r._key,zn.none())])}function Pb(r,e){const i=xn(r.firestore,La),s=Pl(r),u=Vv(r.converter,e);return Dc(i,[Av(Yd(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function k_(r,...e){r=Pi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B_(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,y;if(r instanceof we)d=xn(r.firestore,La),y=Rd(r._key.path),h={next:v=>{e[s]&&e[s](Hb(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=xn(r,uu);d=xn(v.firestore,La),y=v._query;const _=new Zd(d);h={next:S=>{e[s]&&e[s](new Ts(d,_,v,S))},error:e[s+1],complete:e[s+2]},Dv(r._query)}return(function(_,S,C,x){const P=new pv(x),J=new lv(S,P,C);return _.asyncQueue.enqueueAndForget((async()=>sv(await hd(_),J))),()=>{P.Nu(),_.asyncQueue.enqueueAndForget((async()=>rv(await hd(_),J)))}})(Gd(d),y,u,h)}function Dc(r,e){return(function(s,u){const h=new Va;return s.asyncQueue.enqueueAndForget((async()=>db(await bb(s),u,h))),h.promise})(Gd(r),e)}function Hb(r,e,i){const s=i.docs.get(e._key),u=new Zd(r);return new Es(r,u,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Vr=u})(yA),Wo(new Kl("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new La(new OA(s.getProvider("auth-internal")),new UA(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,S)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Er(Gy,Qy,e),Er(Gy,Qy,"esm2020")})();const Gb={apiKey:"AIzaSyCMaplALOGvpaBULsfAAcA91CHsuhi1t0A",authDomain:"my-supps-app.firebaseapp.com",projectId:"my-supps-app",storageBucket:"my-supps-app.firebasestorage.app",messagingSenderId:"152610706254",appId:"1:152610706254:web:d2796e6e33355fd80cc41f",measurementId:"G-XPRZV32W26"},Qb=Z_(Gb),ys=Cb(Qb);function Fb(){const[r,e]=Ye.useState([]),[i,s]=Ye.useState(!0),[u,h]=Ye.useState(!1),[d,y]=Ye.useState(0),[v,_]=Ye.useState(0),[S,C]=Ye.useState(0),x=3150,[P,J]=Ye.useState({name:"",dosage:"",type:"kapsel",stock:"",perDay:"1",timeOfDay:"morgens"}),tt=new Date().toISOString().split("T")[0],$=new Date().toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"});Ye.useEffect(()=>{const A=k_(Hf(ys,"supplements"),M=>{const V=M.docs.map(O=>({id:O.id,...O.data()}));if(e(V),s(!1),V.length>0){let O=0;V.every(bt=>bt.history&&bt.history.includes(tt))&&O++;for(let bt=1;bt<365;bt++){const Ht=new Date;Ht.setDate(Ht.getDate()-bt);const H=Ht.toISOString().split("T")[0];if(V.every(ut=>ut.history&&ut.history.includes(H)))O++;else break}_(O)}});return()=>A()},[tt]),Ye.useEffect(()=>{const A=Pl(ys,"dailyLogs",tt),M=k_(A,V=>{C(V.exists()&&V.data().water||0)});return()=>M()},[tt]),Ye.useEffect(()=>{(async()=>{const M=await jb(Hf(ys,"dailyLogs")),V={};M.forEach(R=>V[R.id]=R.data().water||0);let O=0;(V[tt]||0)>=x&&O++;for(let R=1;R<365;R++){const bt=new Date;bt.setDate(bt.getDate()-R);const Ht=bt.toISOString().split("T")[0];if((V[Ht]||0)>=x)O++;else break}y(O)})()},[S,tt]);const mt=async A=>{const M=Math.max(0,S+A),V=Pl(ys,"dailyLogs",tt);await Bb(V,{water:M},{merge:!0})},vt=async A=>{const M=Pl(ys,"supplements",A.id),V=A.history||[],O=parseInt(A.stock)||0,R=parseInt(A.perDay)||1;let bt,Ht;V.includes(tt)?(bt=V.filter(H=>H!==tt),Ht=O+R):(bt=[...V,tt],Ht=O-R),await kb(M,{history:bt,stock:Ht})},ft=async A=>{await qb(Pl(ys,"supplements",A))},qt=async A=>{A.preventDefault(),!(!P.name||!P.dosage)&&(await Pb(Hf(ys,"supplements"),{name:P.name,dosage:P.dosage,type:P.type,history:[],stock:parseInt(P.stock)||0,perDay:parseInt(P.perDay)||1,timeOfDay:P.timeOfDay}),J({name:"",dosage:"",type:"kapsel",stock:"",perDay:"1",timeOfDay:"morgens"}),h(!1))},Xt=r.filter(A=>A.timeOfDay==="morgens"||!A.timeOfDay),Ct=r.filter(A=>A.timeOfDay==="abends"),D=Math.min(100,S/x*100),b=S>=x;return Z.jsx("div",{className:"min-h-screen bg-slate-50 p-6 font-sans pb-24",children:Z.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[Z.jsxs("header",{className:"mb-2",children:[Z.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-widest font-semibold",children:"Dein Plan"}),Z.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 mt-1",children:$})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[Z.jsxs("div",{className:`p-3 rounded-xl border-2 flex items-center justify-center gap-2 
            ${d>0?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-100 text-slate-400"}`,children:[Z.jsx(CE,{className:`w-5 h-5 ${d>0?"fill-blue-500 text-blue-500":""}`}),Z.jsxs("div",{className:"flex flex-col items-start leading-none",children:[Z.jsx("span",{className:"text-lg font-black",children:d}),Z.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70",children:"Wasser Days"})]})]}),Z.jsxs("div",{className:`p-3 rounded-xl border-2 flex items-center justify-center gap-2 
            ${v>0?"bg-orange-50 border-orange-200 text-orange-700":"bg-white border-slate-100 text-slate-400"}`,children:[Z.jsx(GE,{className:`w-5 h-5 ${v>0?"fill-orange-500 text-orange-500":""}`}),Z.jsxs("div",{className:"flex flex-col items-start leading-none",children:[Z.jsx("span",{className:"text-lg font-black",children:v}),Z.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70",children:"Supp Streak"})]})]})]}),Z.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-5 border-2 shadow-sm transition-all
          ${b?"bg-blue-500 border-blue-600":"bg-blue-50 border-blue-100"}`,children:[!b&&Z.jsx("div",{className:"absolute bottom-0 left-0 h-1.5 bg-blue-300 transition-all duration-500",style:{width:`${D}%`}}),Z.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("div",{className:`p-3 rounded-full ${b?"bg-white text-blue-600":"bg-blue-200 text-blue-600"}`,children:b?Z.jsx(kE,{className:"w-6 h-6"}):Z.jsx(P_,{className:"w-6 h-6"})}),Z.jsxs("div",{children:[Z.jsx("p",{className:`text-xs font-bold uppercase tracking-wider ${b?"text-blue-100":"text-blue-500"}`,children:b?"Ziel erreicht!":"Flssigkeit"}),Z.jsxs("h2",{className:`text-2xl font-black ${b?"text-white":"text-blue-900"}`,children:[(S/1e3).toFixed(2).replace(".",","),Z.jsxs("span",{className:`text-lg font-medium ml-1 ${b?"text-blue-100":"text-blue-700"}`,children:["/ ",(x/1e3).toFixed(2).replace(".",",")," L"]})]})]})]}),Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx("button",{onClick:()=>mt(-250),className:`w-10 h-10 flex items-center justify-center rounded-xl shadow-sm active:scale-95 transition-all border ${b?"bg-blue-600 text-blue-100 border-blue-500 hover:bg-blue-700":"bg-white text-blue-400 border-blue-100 hover:text-blue-600 hover:bg-blue-50"}`,children:Z.jsx(VE,{className:"w-5 h-5"})}),Z.jsx("button",{onClick:()=>mt(250),className:`w-10 h-10 flex items-center justify-center rounded-xl shadow-md active:scale-95 transition-all ${b?"bg-white text-blue-600 hover:bg-blue-50":"bg-blue-500 text-white hover:bg-blue-600 shadow-blue-200"}`,children:Z.jsx(Vy,{className:"w-5 h-5"})})]})]})]}),i?Z.jsx("p",{className:"text-center text-slate-400",children:"Lade Daten..."}):Z.jsxs("div",{className:"space-y-8",children:[" ",Z.jsxs("div",{children:[Z.jsxs("h3",{className:"text-lg font-bold text-slate-700 mb-3 flex items-center gap-2",children:[Z.jsx(Ny,{className:"w-5 h-5 text-orange-400 fill-orange-400"}),"Morgens"]}),Z.jsx("div",{className:"space-y-4",children:Xt.length>0?Xt.map(A=>Z.jsx(Iy,{supplement:A,onToggle:()=>vt(A),onDelete:ft},A.id)):Z.jsx("p",{className:"text-sm text-slate-400 italic",children:"Nichts fr den Morgen geplant."})})]}),Z.jsxs("div",{children:[Z.jsxs("h3",{className:"text-lg font-bold text-slate-700 mb-3 flex items-center gap-2",children:[Z.jsx(Dy,{className:"w-5 h-5 text-indigo-400 fill-indigo-400"}),"Abends"]}),Z.jsx("div",{className:"space-y-4",children:Ct.length>0?Ct.map(A=>Z.jsx(Iy,{supplement:A,onToggle:()=>vt(A),onDelete:ft},A.id)):Z.jsx("p",{className:"text-sm text-slate-400 italic",children:"Nichts fr den Abend geplant."})})]})]}),Z.jsx("button",{onClick:()=>h(!0),className:"fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg shadow-green-200 transition-all hover:scale-110 active:scale-95 z-40",children:Z.jsx(Vy,{className:"w-8 h-8"})}),u&&Z.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:Z.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl relative animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[Z.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:Z.jsx(PE,{className:"w-6 h-6"})}),Z.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Neues Supplement"}),Z.jsxs("form",{onSubmit:qt,className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Name"}),Z.jsx("input",{type:"text",placeholder:"z.B. Magnesium",className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 focus:outline-none focus:border-green-500",value:P.name,onChange:A=>J({...P,name:A.target.value})})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Dosierung (Text)"}),Z.jsx("input",{type:"text",placeholder:"z.B. 2 Tabletten",className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 focus:outline-none focus:border-green-500",value:P.dosage,onChange:A=>J({...P,dosage:A.target.value})})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Einnahmezeit"}),Z.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Z.jsxs("button",{type:"button",onClick:()=>J({...P,timeOfDay:"morgens"}),className:`p-3 rounded-xl border flex items-center justify-center gap-2 transition-all ${P.timeOfDay==="morgens"?"bg-orange-50 border-orange-400 text-orange-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:[Z.jsx(Ny,{className:"w-4 h-4"})," Morgens"]}),Z.jsxs("button",{type:"button",onClick:()=>J({...P,timeOfDay:"abends"}),className:`p-3 rounded-xl border flex items-center justify-center gap-2 transition-all ${P.timeOfDay==="abends"?"bg-indigo-50 border-indigo-400 text-indigo-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:[Z.jsx(Dy,{className:"w-4 h-4"})," Abends"]})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Packungsinhalt"}),Z.jsx("input",{type:"number",placeholder:"120",className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 focus:outline-none focus:border-green-500",value:P.stock,onChange:A=>J({...P,stock:A.target.value})})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Verbrauch/Tag"}),Z.jsx("input",{type:"number",placeholder:"1",className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 focus:outline-none focus:border-green-500",value:P.perDay,onChange:A=>J({...P,perDay:A.target.value})})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Typ"}),Z.jsxs("select",{className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 focus:outline-none focus:border-green-500",value:P.type,onChange:A=>J({...P,type:A.target.value}),children:[Z.jsx("option",{value:"kapsel",children:"Kapsel / Tablette"}),Z.jsx("option",{value:"tropfen",children:"Tropfen / Flssig"}),Z.jsx("option",{value:"pulver",children:"Pulver"})]})]}),Z.jsx("button",{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-xl mt-2 transition-colors",children:"Speichern"})]})]})})]})})}gE.createRoot(document.getElementById("root")).render(Z.jsx(Ye.StrictMode,{children:Z.jsx(Fb,{})}));
